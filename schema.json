{
  "type": "object",
  "properties": {
    "configValidationMode": {
      "enum": [
        "error",
        "warn",
        "off"
      ]
    },
    "custom": {
      "type": "object",
      "properties": {
        "enterprise": {
          "type": "object",
          "properties": {
            "collectApiGatewayLogs": {
              "type": "boolean"
            },
            "collectLambdaLogs": {
              "type": "boolean"
            },
            "compressLogs": {
              "type": "boolean"
            },
            "disableAwsSpans": {
              "type": "boolean"
            },
            "disableFrameworkInstrumentation": {
              "type": "boolean"
            },
            "disableHttpSpans": {
              "type": "boolean"
            },
            "logAccessIamRole": {
              "type": "string",
              "pattern": "^arn:"
            },
            "logIngestMode": {
              "enum": [
                "push",
                "pull"
              ]
            }
          },
          "additionalProperties": false
        }
      },
      "required": []
    },
    "disabledDeprecations": {
      "anyOf": [
        {
          "const": "*"
        },
        {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^[A-Z0-9_]+$"
          }
        }
      ]
    },
    "enableLocalInstallationFallback": {
      "type": "boolean"
    },
    "frameworkVersion": {
      "type": "string"
    },
    "functions": {
      "type": "object",
      "patternProperties": {
        "^[a-zA-Z0-9-_]+$": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string"
            },
            "events": {
              "type": "array",
              "items": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "__schemaWorkaround__": {
                        "const": null
                      }
                    },
                    "required": [
                      "__schemaWorkaround__"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "schedule": {
                        "anyOf": [
                          {
                            "type": "string",
                            "pattern": "^rate\\((?:1 (?:minute|hour|day)|(?:1\\d+|[2-9]\\d*) (?:minute|hour|day)s)\\)$|^cron\\(\\S+ \\S+ \\S+ \\S+ \\S+ \\S+\\)$"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "rate": {
                                "type": "string",
                                "pattern": "^rate\\((?:1 (?:minute|hour|day)|(?:1\\d+|[2-9]\\d*) (?:minute|hour|day)s)\\)$|^cron\\(\\S+ \\S+ \\S+ \\S+ \\S+ \\S+\\)$"
                              },
                              "enabled": {
                                "type": "boolean"
                              },
                              "name": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 64,
                                "pattern": "[\\.\\-_A-Za-z0-9]+"
                              },
                              "description": {
                                "type": "string",
                                "maxLength": 512
                              },
                              "input": {
                                "anyOf": [
                                  {
                                    "type": "string",
                                    "maxLength": 8192
                                  },
                                  {
                                    "type": "object",
                                    "oneOf": [
                                      {
                                        "properties": {
                                          "body": {
                                            "type": "string",
                                            "maxLength": 8192
                                          }
                                        },
                                        "required": [
                                          "body"
                                        ],
                                        "additionalProperties": false
                                      },
                                      {
                                        "not": {
                                          "required": [
                                            "body"
                                          ]
                                        }
                                      }
                                    ]
                                  }
                                ]
                              },
                              "inputPath": {
                                "type": "string",
                                "maxLength": 256
                              },
                              "inputTransformer": {
                                "type": "object",
                                "properties": {
                                  "inputTemplate": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 8192
                                  },
                                  "inputPathsMap": {
                                    "type": "object"
                                  }
                                },
                                "required": [
                                  "inputTemplate"
                                ],
                                "additionalProperties": false
                              }
                            },
                            "required": [
                              "rate"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    },
                    "required": [
                      "schedule"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "s3": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "bucket": {
                                "type": "string"
                              },
                              "event": {
                                "type": "string",
                                "pattern": "^s3:.+$"
                              },
                              "existing": {
                                "type": "boolean"
                              },
                              "rules": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "prefix": {
                                      "type": "string"
                                    },
                                    "suffix": {
                                      "type": "string"
                                    }
                                  },
                                  "maxProperties": 1,
                                  "additionalProperties": false
                                }
                              }
                            },
                            "required": [
                              "bucket"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    },
                    "required": [
                      "s3"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "http": {
                        "anyOf": [
                          {
                            "type": "string",
                            "regexp": "/^(?:\\*|(GET|POST|PUT|PATCH|OPTIONS|HEAD|DELETE|ANY) (\\/\\S*))$/i"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "async": {
                                "type": "boolean"
                              },
                              "authorizer": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object",
                                    "properties": {
                                      "arn": {
                                        "anyOf": [
                                          {
                                            "type": "string",
                                            "pattern": "^arn:"
                                          },
                                          {
                                            "anyOf": [
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Fn::ImportValue": {}
                                                },
                                                "additionalProperties": false,
                                                "required": [
                                                  "Fn::ImportValue"
                                                ]
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Fn::Join": {
                                                    "type": "array",
                                                    "minItems": 2,
                                                    "maxItems": 2,
                                                    "items": [
                                                      {
                                                        "type": "string"
                                                      },
                                                      {
                                                        "type": "array"
                                                      }
                                                    ],
                                                    "additionalItems": false
                                                  }
                                                },
                                                "required": [
                                                  "Fn::Join"
                                                ],
                                                "additionalProperties": false
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Fn::GetAtt": {
                                                    "type": "array",
                                                    "minItems": 2,
                                                    "maxItems": 2,
                                                    "items": {
                                                      "type": "string",
                                                      "minLength": 1
                                                    }
                                                  }
                                                },
                                                "required": [
                                                  "Fn::GetAtt"
                                                ],
                                                "additionalProperties": false
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Ref": {
                                                    "type": "string",
                                                    "minLength": 1
                                                  }
                                                },
                                                "required": [
                                                  "Ref"
                                                ],
                                                "additionalProperties": false
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Fn::Sub": {}
                                                },
                                                "required": [
                                                  "Fn::Sub"
                                                ],
                                                "additionalProperties": false
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      "authorizerId": {
                                        "anyOf": [
                                          {
                                            "type": "string",
                                            "minLength": 1
                                          },
                                          {
                                            "anyOf": [
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Fn::ImportValue": {}
                                                },
                                                "additionalProperties": false,
                                                "required": [
                                                  "Fn::ImportValue"
                                                ]
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Fn::Join": {
                                                    "type": "array",
                                                    "minItems": 2,
                                                    "maxItems": 2,
                                                    "items": [
                                                      {
                                                        "type": "string"
                                                      },
                                                      {
                                                        "type": "array"
                                                      }
                                                    ],
                                                    "additionalItems": false
                                                  }
                                                },
                                                "required": [
                                                  "Fn::Join"
                                                ],
                                                "additionalProperties": false
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Fn::GetAtt": {
                                                    "type": "array",
                                                    "minItems": 2,
                                                    "maxItems": 2,
                                                    "items": {
                                                      "type": "string",
                                                      "minLength": 1
                                                    }
                                                  }
                                                },
                                                "required": [
                                                  "Fn::GetAtt"
                                                ],
                                                "additionalProperties": false
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Ref": {
                                                    "type": "string",
                                                    "minLength": 1
                                                  }
                                                },
                                                "required": [
                                                  "Ref"
                                                ],
                                                "additionalProperties": false
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Fn::Sub": {}
                                                },
                                                "required": [
                                                  "Fn::Sub"
                                                ],
                                                "additionalProperties": false
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      "claims": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        }
                                      },
                                      "identitySource": {
                                        "type": "string"
                                      },
                                      "identityValidationExpression": {
                                        "type": "string"
                                      },
                                      "managedExternally": {
                                        "type": "boolean"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "resultTtlInSeconds": {
                                        "type": "integer",
                                        "minimum": 0,
                                        "maximum": 3600
                                      },
                                      "scopes": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        }
                                      },
                                      "type": {
                                        "anyOf": [
                                          {
                                            "type": "string",
                                            "regexp": "/^token$/i"
                                          },
                                          {
                                            "type": "string",
                                            "regexp": "/^cognito_user_pools$/i"
                                          },
                                          {
                                            "type": "string",
                                            "regexp": "/^request$/i"
                                          },
                                          {
                                            "type": "string",
                                            "regexp": "/^aws_iam$/i"
                                          }
                                        ]
                                      }
                                    },
                                    "required": [],
                                    "additionalProperties": false
                                  }
                                ]
                              },
                              "connectionId": {
                                "type": "string"
                              },
                              "connectionType": {
                                "anyOf": [
                                  {
                                    "type": "string",
                                    "regexp": "/^vpc-link$/i"
                                  },
                                  {
                                    "type": "string",
                                    "regexp": "/^VPC_LINK$/i"
                                  }
                                ]
                              },
                              "cors": {
                                "anyOf": [
                                  {
                                    "type": "boolean"
                                  },
                                  {
                                    "type": "object",
                                    "properties": {
                                      "allowCredentials": {
                                        "type": "boolean"
                                      },
                                      "cacheControl": {
                                        "type": "string"
                                      },
                                      "headers": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        }
                                      },
                                      "maxAge": {
                                        "type": "integer",
                                        "minimum": 1
                                      },
                                      "methods": {
                                        "type": "array",
                                        "items": {
                                          "enum": [
                                            "GET",
                                            "POST",
                                            "PUT",
                                            "PATCH",
                                            "OPTIONS",
                                            "HEAD",
                                            "DELETE",
                                            "ANY"
                                          ]
                                        }
                                      },
                                      "origin": {
                                        "type": "string"
                                      },
                                      "origins": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        }
                                      }
                                    },
                                    "oneOf": [
                                      {
                                        "required": [
                                          "origin"
                                        ]
                                      },
                                      {
                                        "required": [
                                          "origins"
                                        ]
                                      }
                                    ],
                                    "additionalProperties": false
                                  }
                                ]
                              },
                              "integration": {
                                "anyOf": [
                                  {
                                    "type": "string",
                                    "regexp": "/^LAMBDA_PROXY$/i"
                                  },
                                  {
                                    "type": "string",
                                    "regexp": "/^LAMBDA-PROXY$/i"
                                  },
                                  {
                                    "type": "string",
                                    "regexp": "/^LAMBDA$/i"
                                  },
                                  {
                                    "type": "string",
                                    "regexp": "/^AWS$/i"
                                  },
                                  {
                                    "type": "string",
                                    "regexp": "/^AWS_PROXY$/i"
                                  },
                                  {
                                    "type": "string",
                                    "regexp": "/^AWS-PROXY$/i"
                                  },
                                  {
                                    "type": "string",
                                    "regexp": "/^HTTP$/i"
                                  },
                                  {
                                    "type": "string",
                                    "regexp": "/^HTTP_PROXY$/i"
                                  },
                                  {
                                    "type": "string",
                                    "regexp": "/^HTTP-PROXY$/i"
                                  },
                                  {
                                    "type": "string",
                                    "regexp": "/^MOCK$/i"
                                  }
                                ]
                              },
                              "method": {
                                "type": "string",
                                "regexp": "/^(?:\\*|GET|POST|PUT|PATCH|OPTIONS|HEAD|DELETE|ANY)$/i"
                              },
                              "operationId": {
                                "type": "string"
                              },
                              "path": {
                                "type": "string",
                                "regexp": "/^(?:\\*|\\/?\\S*)$/"
                              },
                              "private": {
                                "type": "boolean"
                              },
                              "request": {
                                "type": "object",
                                "properties": {
                                  "contentHandling": {
                                    "enum": [
                                      "CONVERT_TO_BINARY",
                                      "CONVERT_TO_TEXT"
                                    ]
                                  },
                                  "method": {
                                    "type": "string",
                                    "regexp": "/^(?:\\*|GET|POST|PUT|PATCH|OPTIONS|HEAD|DELETE|ANY)$/i"
                                  },
                                  "parameters": {
                                    "type": "object",
                                    "properties": {
                                      "querystrings": {
                                        "type": "object",
                                        "additionalProperties": {
                                          "anyOf": [
                                            {
                                              "type": "boolean"
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "required": {
                                                  "type": "boolean"
                                                },
                                                "mappedValue": {
                                                  "type": "string"
                                                }
                                              },
                                              "additionalProperties": false
                                            }
                                          ]
                                        }
                                      },
                                      "headers": {
                                        "type": "object",
                                        "additionalProperties": {
                                          "anyOf": [
                                            {
                                              "type": "boolean"
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "required": {
                                                  "type": "boolean"
                                                },
                                                "mappedValue": {
                                                  "type": "string"
                                                }
                                              },
                                              "additionalProperties": false
                                            }
                                          ]
                                        }
                                      },
                                      "paths": {
                                        "type": "object",
                                        "additionalProperties": {
                                          "anyOf": [
                                            {
                                              "type": "boolean"
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "required": {
                                                  "type": "boolean"
                                                },
                                                "mappedValue": {
                                                  "type": "string"
                                                }
                                              },
                                              "additionalProperties": false
                                            }
                                          ]
                                        }
                                      }
                                    },
                                    "additionalProperties": false
                                  },
                                  "passThrough": {
                                    "enum": [
                                      "NEVER",
                                      "WHEN_NO_MATCH",
                                      "WHEN_NO_TEMPLATES"
                                    ]
                                  },
                                  "schema": {
                                    "type": "object",
                                    "additionalProperties": {
                                      "type": "object"
                                    }
                                  },
                                  "template": {
                                    "type": "object",
                                    "additionalProperties": {
                                      "type": "string"
                                    }
                                  },
                                  "uri": {
                                    "type": "string"
                                  }
                                },
                                "additionalProperties": false
                              },
                              "response": {
                                "type": "object",
                                "properties": {
                                  "contentHandling": {
                                    "enum": [
                                      "CONVERT_TO_BINARY",
                                      "CONVERT_TO_TEXT"
                                    ]
                                  },
                                  "headers": {
                                    "type": "object",
                                    "additionalProperties": {
                                      "type": "string"
                                    }
                                  },
                                  "template": {
                                    "type": "string"
                                  },
                                  "statusCodes": {
                                    "type": "object",
                                    "propertyNames": {
                                      "type": "string",
                                      "pattern": "^\\d{3}$"
                                    },
                                    "additionalProperties": {
                                      "type": "object",
                                      "properties": {
                                        "headers": {
                                          "type": "object",
                                          "additionalProperties": {
                                            "type": "string"
                                          }
                                        },
                                        "pattern": {
                                          "type": "string"
                                        },
                                        "template": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "object",
                                              "additionalProperties": {
                                                "type": "string"
                                              }
                                            }
                                          ]
                                        }
                                      },
                                      "additionalProperties": false
                                    }
                                  }
                                },
                                "additionalProperties": false
                              }
                            },
                            "required": [
                              "path",
                              "method"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    },
                    "required": [
                      "http"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "websocket": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "route": {
                                "type": "string"
                              },
                              "routeResponseSelectionExpression": {
                                "const": "$default"
                              },
                              "authorizer": {
                                "anyOf": [
                                  {
                                    "type": "string",
                                    "pattern": "^arn:"
                                  },
                                  {
                                    "type": "string",
                                    "pattern": "^[a-zA-Z0-9-_]+$"
                                  },
                                  {
                                    "type": "object",
                                    "properties": {
                                      "name": {
                                        "type": "string",
                                        "pattern": "^[a-zA-Z0-9-_]+$"
                                      },
                                      "arn": {
                                        "anyOf": [
                                          {
                                            "type": "string",
                                            "pattern": "^arn:"
                                          },
                                          {
                                            "anyOf": [
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Fn::ImportValue": {}
                                                },
                                                "additionalProperties": false,
                                                "required": [
                                                  "Fn::ImportValue"
                                                ]
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Fn::Join": {
                                                    "type": "array",
                                                    "minItems": 2,
                                                    "maxItems": 2,
                                                    "items": [
                                                      {
                                                        "type": "string"
                                                      },
                                                      {
                                                        "type": "array"
                                                      }
                                                    ],
                                                    "additionalItems": false
                                                  }
                                                },
                                                "required": [
                                                  "Fn::Join"
                                                ],
                                                "additionalProperties": false
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Fn::GetAtt": {
                                                    "type": "array",
                                                    "minItems": 2,
                                                    "maxItems": 2,
                                                    "items": {
                                                      "type": "string",
                                                      "minLength": 1
                                                    }
                                                  }
                                                },
                                                "required": [
                                                  "Fn::GetAtt"
                                                ],
                                                "additionalProperties": false
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Ref": {
                                                    "type": "string",
                                                    "minLength": 1
                                                  }
                                                },
                                                "required": [
                                                  "Ref"
                                                ],
                                                "additionalProperties": false
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Fn::Sub": {}
                                                },
                                                "required": [
                                                  "Fn::Sub"
                                                ],
                                                "additionalProperties": false
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      "identitySource": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        }
                                      }
                                    },
                                    "anyOf": [
                                      {
                                        "required": [
                                          "name"
                                        ]
                                      },
                                      {
                                        "required": [
                                          "arn"
                                        ]
                                      }
                                    ],
                                    "additionalProperties": false
                                  }
                                ]
                              }
                            },
                            "required": [
                              "route"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    },
                    "required": [
                      "websocket"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "sns": {
                        "anyOf": [
                          {
                            "type": "string",
                            "maxLength": 256,
                            "pattern": "^[\\w-]+$"
                          },
                          {
                            "type": "string",
                            "pattern": "^arn:"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "arn": {
                                "anyOf": [
                                  {
                                    "type": "string",
                                    "pattern": "^arn:"
                                  },
                                  {
                                    "anyOf": [
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Fn::ImportValue": {}
                                        },
                                        "additionalProperties": false,
                                        "required": [
                                          "Fn::ImportValue"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Fn::Join": {
                                            "type": "array",
                                            "minItems": 2,
                                            "maxItems": 2,
                                            "items": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "array"
                                              }
                                            ],
                                            "additionalItems": false
                                          }
                                        },
                                        "required": [
                                          "Fn::Join"
                                        ],
                                        "additionalProperties": false
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Fn::GetAtt": {
                                            "type": "array",
                                            "minItems": 2,
                                            "maxItems": 2,
                                            "items": {
                                              "type": "string",
                                              "minLength": 1
                                            }
                                          }
                                        },
                                        "required": [
                                          "Fn::GetAtt"
                                        ],
                                        "additionalProperties": false
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Ref": {
                                            "type": "string",
                                            "minLength": 1
                                          }
                                        },
                                        "required": [
                                          "Ref"
                                        ],
                                        "additionalProperties": false
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Fn::Sub": {}
                                        },
                                        "required": [
                                          "Fn::Sub"
                                        ],
                                        "additionalProperties": false
                                      }
                                    ]
                                  }
                                ]
                              },
                              "topicName": {
                                "type": "string",
                                "maxLength": 256,
                                "pattern": "^[\\w-]+$"
                              },
                              "displayName": {
                                "type": "string",
                                "minLength": 1
                              },
                              "filterPolicy": {
                                "type": "object"
                              },
                              "redrivePolicy": {
                                "type": "object",
                                "properties": {
                                  "deadLetterTargetArn": {
                                    "type": "string",
                                    "pattern": "^arn:"
                                  },
                                  "deadLetterTargetRef": {
                                    "type": "string",
                                    "minLength": 1
                                  },
                                  "deadLetterTargetImport": {
                                    "type": "object",
                                    "properties": {
                                      "arn": {
                                        "type": "string",
                                        "pattern": "^arn:"
                                      },
                                      "url": {
                                        "type": "string",
                                        "minLength": 1
                                      }
                                    },
                                    "required": [
                                      "arn",
                                      "url"
                                    ],
                                    "additionalProperties": false
                                  }
                                },
                                "oneOf": [
                                  {
                                    "required": [
                                      "deadLetterTargetArn"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "deadLetterTargetRef"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "deadLetterTargetImport"
                                    ]
                                  }
                                ],
                                "additionalProperties": false
                              }
                            },
                            "anyOf": [
                              {
                                "required": [
                                  "arn"
                                ]
                              },
                              {
                                "required": [
                                  "topicName"
                                ]
                              }
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    },
                    "required": [
                      "sns"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "stream": {
                        "anyOf": [
                          {
                            "type": "string",
                            "pattern": "^arn:"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "arn": {},
                              "type": {
                                "enum": [
                                  "dynamodb",
                                  "kinesis"
                                ]
                              },
                              "batchSize": {
                                "type": "integer",
                                "minimum": 1,
                                "maximum": 10000
                              },
                              "parallelizationFactor": {
                                "type": "integer",
                                "minimum": 1,
                                "maximum": 10
                              },
                              "startingPosition": {
                                "enum": [
                                  "LATEST",
                                  "TRIM_HORIZON"
                                ]
                              },
                              "enabled": {
                                "type": "boolean"
                              },
                              "consumer": {
                                "anyOf": [
                                  {
                                    "const": true
                                  },
                                  {
                                    "anyOf": [
                                      {
                                        "type": "string",
                                        "pattern": "^arn:"
                                      },
                                      {
                                        "anyOf": [
                                          {
                                            "type": "object",
                                            "properties": {
                                              "Fn::ImportValue": {}
                                            },
                                            "additionalProperties": false,
                                            "required": [
                                              "Fn::ImportValue"
                                            ]
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "Fn::Join": {
                                                "type": "array",
                                                "minItems": 2,
                                                "maxItems": 2,
                                                "items": [
                                                  {
                                                    "type": "string"
                                                  },
                                                  {
                                                    "type": "array"
                                                  }
                                                ],
                                                "additionalItems": false
                                              }
                                            },
                                            "required": [
                                              "Fn::Join"
                                            ],
                                            "additionalProperties": false
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "Fn::GetAtt": {
                                                "type": "array",
                                                "minItems": 2,
                                                "maxItems": 2,
                                                "items": {
                                                  "type": "string",
                                                  "minLength": 1
                                                }
                                              }
                                            },
                                            "required": [
                                              "Fn::GetAtt"
                                            ],
                                            "additionalProperties": false
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "Ref": {
                                                "type": "string",
                                                "minLength": 1
                                              }
                                            },
                                            "required": [
                                              "Ref"
                                            ],
                                            "additionalProperties": false
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "Fn::Sub": {}
                                            },
                                            "required": [
                                              "Fn::Sub"
                                            ],
                                            "additionalProperties": false
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              "batchWindow": {
                                "type": "integer",
                                "minimum": 0,
                                "maximum": 300
                              },
                              "maximumRetryAttempts": {
                                "type": "integer",
                                "minimum": -1,
                                "maximum": 10000
                              },
                              "bisectBatchOnFunctionError": {
                                "type": "boolean"
                              },
                              "maximumRecordAgeInSeconds": {
                                "anyOf": [
                                  {
                                    "const": -1
                                  },
                                  {
                                    "type": "integer",
                                    "minimum": 60,
                                    "maximum": 604800
                                  }
                                ]
                              },
                              "destinations": {
                                "type": "object",
                                "properties": {
                                  "onFailure": {
                                    "anyOf": [
                                      {
                                        "type": "string",
                                        "pattern": "^arn:"
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "arn": {},
                                          "type": {
                                            "enum": [
                                              "sns",
                                              "sqs"
                                            ]
                                          }
                                        },
                                        "additionalProperties": false,
                                        "anyOf": [
                                          {
                                            "properties": {
                                              "arn": {
                                                "anyOf": [
                                                  {
                                                    "type": "object",
                                                    "properties": {
                                                      "Fn::ImportValue": {}
                                                    },
                                                    "additionalProperties": false,
                                                    "required": [
                                                      "Fn::ImportValue"
                                                    ]
                                                  },
                                                  {
                                                    "type": "object",
                                                    "properties": {
                                                      "Fn::Join": {
                                                        "type": "array",
                                                        "minItems": 2,
                                                        "maxItems": 2,
                                                        "items": [
                                                          {
                                                            "type": "string"
                                                          },
                                                          {
                                                            "type": "array"
                                                          }
                                                        ],
                                                        "additionalItems": false
                                                      }
                                                    },
                                                    "required": [
                                                      "Fn::Join"
                                                    ],
                                                    "additionalProperties": false
                                                  },
                                                  {
                                                    "type": "object",
                                                    "properties": {
                                                      "Fn::GetAtt": {
                                                        "type": "array",
                                                        "minItems": 2,
                                                        "maxItems": 2,
                                                        "items": {
                                                          "type": "string",
                                                          "minLength": 1
                                                        }
                                                      }
                                                    },
                                                    "required": [
                                                      "Fn::GetAtt"
                                                    ],
                                                    "additionalProperties": false
                                                  },
                                                  {
                                                    "type": "object",
                                                    "properties": {
                                                      "Ref": {
                                                        "type": "string",
                                                        "minLength": 1
                                                      }
                                                    },
                                                    "required": [
                                                      "Ref"
                                                    ],
                                                    "additionalProperties": false
                                                  },
                                                  {
                                                    "type": "object",
                                                    "properties": {
                                                      "Fn::Sub": {}
                                                    },
                                                    "required": [
                                                      "Fn::Sub"
                                                    ],
                                                    "additionalProperties": false
                                                  }
                                                ]
                                              }
                                            },
                                            "required": [
                                              "arn",
                                              "type"
                                            ]
                                          },
                                          {
                                            "properties": {
                                              "arn": {
                                                "type": "string",
                                                "pattern": "^arn:"
                                              }
                                            },
                                            "required": [
                                              "arn"
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                },
                                "additionalProperties": false,
                                "required": [
                                  "onFailure"
                                ]
                              }
                            },
                            "additionalProperties": false,
                            "anyOf": [
                              {
                                "properties": {
                                  "arn": {
                                    "anyOf": [
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Fn::ImportValue": {}
                                        },
                                        "additionalProperties": false,
                                        "required": [
                                          "Fn::ImportValue"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Fn::Join": {
                                            "type": "array",
                                            "minItems": 2,
                                            "maxItems": 2,
                                            "items": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "array"
                                              }
                                            ],
                                            "additionalItems": false
                                          }
                                        },
                                        "required": [
                                          "Fn::Join"
                                        ],
                                        "additionalProperties": false
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Fn::GetAtt": {
                                            "type": "array",
                                            "minItems": 2,
                                            "maxItems": 2,
                                            "items": {
                                              "type": "string",
                                              "minLength": 1
                                            }
                                          }
                                        },
                                        "required": [
                                          "Fn::GetAtt"
                                        ],
                                        "additionalProperties": false
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Ref": {
                                            "type": "string",
                                            "minLength": 1
                                          }
                                        },
                                        "required": [
                                          "Ref"
                                        ],
                                        "additionalProperties": false
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Fn::Sub": {}
                                        },
                                        "required": [
                                          "Fn::Sub"
                                        ],
                                        "additionalProperties": false
                                      }
                                    ]
                                  }
                                },
                                "required": [
                                  "arn",
                                  "type"
                                ]
                              },
                              {
                                "properties": {
                                  "arn": {
                                    "type": "string",
                                    "pattern": "^arn:"
                                  }
                                },
                                "required": [
                                  "arn"
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    },
                    "required": [
                      "stream"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "msk": {
                        "type": "object",
                        "properties": {
                          "arn": {
                            "anyOf": [
                              {
                                "type": "string",
                                "pattern": "^arn:"
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Fn::ImportValue": {}
                                },
                                "additionalProperties": false,
                                "required": [
                                  "Fn::ImportValue"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Ref": {
                                    "type": "string",
                                    "minLength": 1
                                  }
                                },
                                "required": [
                                  "Ref"
                                ],
                                "additionalProperties": false
                              }
                            ]
                          },
                          "batchSize": {
                            "type": "number",
                            "minimum": 1,
                            "maximum": 10000
                          },
                          "enabled": {
                            "type": "boolean"
                          },
                          "startingPosition": {
                            "type": "string",
                            "enum": [
                              "LATEST",
                              "TRIM_HORIZON"
                            ]
                          },
                          "topic": {
                            "type": "string"
                          }
                        },
                        "additionalProperties": false,
                        "required": [
                          "arn",
                          "topic"
                        ]
                      }
                    },
                    "required": [
                      "msk"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "alb": {
                        "type": "object",
                        "properties": {
                          "authorizer": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "conditions": {
                            "type": "object",
                            "properties": {
                              "header": {
                                "type": "object",
                                "properties": {
                                  "name": {
                                    "type": "string",
                                    "maxLength": 40
                                  },
                                  "values": {
                                    "type": "array",
                                    "items": {
                                      "type": "string",
                                      "maxLength": 128
                                    }
                                  }
                                },
                                "additionalProperties": false,
                                "required": [
                                  "name",
                                  "values"
                                ]
                              },
                              "host": {
                                "type": "array",
                                "items": {
                                  "type": "string",
                                  "pattern": "^[A-Za-z0-9*?.-]+$",
                                  "maxLength": 128
                                }
                              },
                              "ip": {
                                "type": "array",
                                "items": {
                                  "anyOf": [
                                    {
                                      "type": "string",
                                      "format": "ipv4"
                                    },
                                    {
                                      "type": "string",
                                      "format": "ipv6"
                                    }
                                  ]
                                }
                              },
                              "method": {
                                "type": "array",
                                "items": {
                                  "type": "string",
                                  "pattern": "^[A-Z_-]+$",
                                  "maxLength": 40
                                }
                              },
                              "path": {
                                "type": "array",
                                "items": {
                                  "type": "string",
                                  "pattern": "^([A-Za-z0-9*?_.$/~\"'@:+-]|&amp;)+$",
                                  "maxLength": 128
                                }
                              },
                              "query": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "string",
                                  "maxLength": 128
                                },
                                "propertyNames": {
                                  "type": "string",
                                  "maxLength": 128
                                }
                              }
                            },
                            "additionalProperties": false
                          },
                          "healthCheck": {
                            "anyOf": [
                              {
                                "type": "boolean"
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "healthyThresholdCount": {
                                    "type": "integer",
                                    "minimum": 2,
                                    "maximum": 10
                                  },
                                  "intervalSeconds": {
                                    "type": "integer",
                                    "minimum": 5,
                                    "maximum": 300
                                  },
                                  "matcher": {
                                    "type": "object",
                                    "properties": {
                                      "httpCode": {
                                        "type": "string",
                                        "pattern": "^\\d{3}(-\\d{3})?(,\\d{3}(-\\d{3})?)*$"
                                      }
                                    },
                                    "additionalProperties": false
                                  },
                                  "path": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 1024
                                  },
                                  "timeoutSeconds": {
                                    "type": "integer",
                                    "minimum": 2,
                                    "maximum": 120
                                  },
                                  "unhealthyThresholdCount": {
                                    "type": "integer",
                                    "minimum": 2,
                                    "maximum": 10
                                  }
                                },
                                "additionalProperties": false
                              }
                            ]
                          },
                          "listenerArn": {
                            "anyOf": [
                              {
                                "type": "string",
                                "pattern": "^arn:aws[\\w-]*:elasticloadbalancing:.+:listener\\/app\\/[\\w-]+\\/([\\w-]+)\\/([\\w-]+)$"
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Ref": {
                                    "type": "string",
                                    "minLength": 1
                                  }
                                },
                                "required": [
                                  "Ref"
                                ],
                                "additionalProperties": false
                              }
                            ]
                          },
                          "multiValueHeaders": {
                            "type": "boolean"
                          },
                          "priority": {
                            "type": "integer",
                            "minimum": 1,
                            "maximum": 50000
                          }
                        },
                        "required": [
                          "listenerArn",
                          "priority",
                          "conditions"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "required": [
                      "alb"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "alexaSkill": {
                        "anyOf": [
                          {
                            "type": "string",
                            "minLength": 0,
                            "maxLength": 256,
                            "pattern": "^[a-zA-Z0-9._\\-]+$"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "appId": {
                                "type": "string",
                                "minLength": 0,
                                "maxLength": 256,
                                "pattern": "^[a-zA-Z0-9._\\-]+$"
                              },
                              "enabled": {
                                "type": "boolean"
                              }
                            },
                            "required": [
                              "appId"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    },
                    "required": [
                      "alexaSkill"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "alexaSmartHome": {
                        "anyOf": [
                          {
                            "type": "string",
                            "minLength": 0,
                            "maxLength": 256,
                            "pattern": "^[a-zA-Z0-9._\\-]+$"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "appId": {
                                "type": "string",
                                "minLength": 0,
                                "maxLength": 256,
                                "pattern": "^[a-zA-Z0-9._\\-]+$"
                              },
                              "enabled": {
                                "type": "boolean"
                              }
                            },
                            "required": [
                              "appId"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    },
                    "required": [
                      "alexaSmartHome"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "iot": {
                        "type": "object",
                        "properties": {
                          "sql": {
                            "type": "string"
                          },
                          "sqlVersion": {
                            "type": "string",
                            "enum": [
                              "2015-10-08",
                              "2016-03-23",
                              "beta"
                            ]
                          },
                          "name": {
                            "type": "string"
                          },
                          "enabled": {
                            "type": "boolean"
                          },
                          "description": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "sql"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "required": [
                      "iot"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "iotFleetProvisioning": {
                        "type": "object",
                        "properties": {
                          "enabled": {
                            "type": "boolean"
                          },
                          "provisioningRoleArn": {
                            "anyOf": [
                              {
                                "type": "string",
                                "pattern": "^arn:"
                              },
                              {
                                "anyOf": [
                                  {
                                    "type": "object",
                                    "properties": {
                                      "Fn::ImportValue": {}
                                    },
                                    "additionalProperties": false,
                                    "required": [
                                      "Fn::ImportValue"
                                    ]
                                  },
                                  {
                                    "type": "object",
                                    "properties": {
                                      "Fn::Join": {
                                        "type": "array",
                                        "minItems": 2,
                                        "maxItems": 2,
                                        "items": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "array"
                                          }
                                        ],
                                        "additionalItems": false
                                      }
                                    },
                                    "required": [
                                      "Fn::Join"
                                    ],
                                    "additionalProperties": false
                                  },
                                  {
                                    "type": "object",
                                    "properties": {
                                      "Fn::GetAtt": {
                                        "type": "array",
                                        "minItems": 2,
                                        "maxItems": 2,
                                        "items": {
                                          "type": "string",
                                          "minLength": 1
                                        }
                                      }
                                    },
                                    "required": [
                                      "Fn::GetAtt"
                                    ],
                                    "additionalProperties": false
                                  },
                                  {
                                    "type": "object",
                                    "properties": {
                                      "Ref": {
                                        "type": "string",
                                        "minLength": 1
                                      }
                                    },
                                    "required": [
                                      "Ref"
                                    ],
                                    "additionalProperties": false
                                  },
                                  {
                                    "type": "object",
                                    "properties": {
                                      "Fn::Sub": {}
                                    },
                                    "required": [
                                      "Fn::Sub"
                                    ],
                                    "additionalProperties": false
                                  }
                                ]
                              }
                            ]
                          },
                          "templateBody": {
                            "type": "object"
                          },
                          "templateName": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "templateBody",
                          "provisioningRoleArn"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "required": [
                      "iotFleetProvisioning"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "cloudwatchEvent": {
                        "type": "object",
                        "properties": {
                          "event": {
                            "type": "object"
                          },
                          "input": {
                            "anyOf": [
                              {
                                "type": "string",
                                "maxLength": 8192
                              },
                              {
                                "type": "object"
                              }
                            ]
                          },
                          "inputPath": {
                            "type": "string",
                            "minLength": 1,
                            "maxLength": 256
                          },
                          "inputTransformer": {
                            "type": "object",
                            "properties": {
                              "inputPathsMap": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              },
                              "inputTemplate": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 8192
                              }
                            },
                            "required": [
                              "inputTemplate"
                            ],
                            "additionalProperties": false
                          },
                          "description": {
                            "type": "string",
                            "maxLength": 512
                          },
                          "name": {
                            "type": "string",
                            "pattern": "[a-zA-Z0-9-_.]+",
                            "minLength": 1,
                            "maxLength": 64
                          },
                          "enabled": {
                            "type": "boolean"
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "required": [
                      "cloudwatchEvent"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "cloudwatchLog": {
                        "anyOf": [
                          {
                            "type": "string",
                            "pattern": "^[/#A-Za-z0-9-_.]+$"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "logGroup": {
                                "type": "string",
                                "pattern": "^[/#A-Za-z0-9-_.]+$"
                              },
                              "filter": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "logGroup"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    },
                    "required": [
                      "cloudwatchLog"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "cognitoUserPool": {
                        "type": "object",
                        "properties": {
                          "pool": {
                            "type": "string",
                            "maxLength": 128,
                            "pattern": "^[\\w\\s+=,.@-]+$"
                          },
                          "trigger": {
                            "enum": [
                              "PreSignUp",
                              "PostConfirmation",
                              "PreAuthentication",
                              "PostAuthentication",
                              "PreTokenGeneration",
                              "CustomMessage",
                              "DefineAuthChallenge",
                              "CreateAuthChallenge",
                              "VerifyAuthChallengeResponse",
                              "UserMigration"
                            ]
                          },
                          "existing": {
                            "type": "boolean"
                          }
                        },
                        "required": [
                          "pool",
                          "trigger"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "required": [
                      "cognitoUserPool"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "eventBridge": {
                        "type": "object",
                        "properties": {
                          "eventBus": {
                            "type": "string",
                            "minLength": 1
                          },
                          "schedule": {
                            "pattern": "^(?:cron|rate)\\(.+\\)$"
                          },
                          "pattern": {
                            "type": "object",
                            "properties": {
                              "version": {},
                              "id": {},
                              "detail-type": {},
                              "source": {},
                              "account": {},
                              "time": {},
                              "region": {},
                              "resources": {},
                              "detail": {}
                            },
                            "additionalProperties": false
                          },
                          "input": {
                            "type": "object"
                          },
                          "inputPath": {
                            "type": "string",
                            "minLength": 1,
                            "maxLength": 256
                          },
                          "inputTransformer": {
                            "type": "object",
                            "properties": {
                              "inputPathsMap": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              },
                              "inputTemplate": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 8192
                              }
                            },
                            "required": [
                              "inputTemplate"
                            ],
                            "additionalProperties": false
                          }
                        },
                        "anyOf": [
                          {
                            "required": [
                              "pattern"
                            ]
                          },
                          {
                            "required": [
                              "schedule"
                            ]
                          }
                        ]
                      }
                    },
                    "required": [
                      "eventBridge"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "sqs": {
                        "anyOf": [
                          {
                            "anyOf": [
                              {
                                "type": "string",
                                "pattern": "^arn:"
                              },
                              {
                                "anyOf": [
                                  {
                                    "type": "object",
                                    "properties": {
                                      "Fn::ImportValue": {}
                                    },
                                    "additionalProperties": false,
                                    "required": [
                                      "Fn::ImportValue"
                                    ]
                                  },
                                  {
                                    "type": "object",
                                    "properties": {
                                      "Fn::Join": {
                                        "type": "array",
                                        "minItems": 2,
                                        "maxItems": 2,
                                        "items": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "array"
                                          }
                                        ],
                                        "additionalItems": false
                                      }
                                    },
                                    "required": [
                                      "Fn::Join"
                                    ],
                                    "additionalProperties": false
                                  },
                                  {
                                    "type": "object",
                                    "properties": {
                                      "Fn::GetAtt": {
                                        "type": "array",
                                        "minItems": 2,
                                        "maxItems": 2,
                                        "items": {
                                          "type": "string",
                                          "minLength": 1
                                        }
                                      }
                                    },
                                    "required": [
                                      "Fn::GetAtt"
                                    ],
                                    "additionalProperties": false
                                  },
                                  {
                                    "type": "object",
                                    "properties": {
                                      "Ref": {
                                        "type": "string",
                                        "minLength": 1
                                      }
                                    },
                                    "required": [
                                      "Ref"
                                    ],
                                    "additionalProperties": false
                                  },
                                  {
                                    "type": "object",
                                    "properties": {
                                      "Fn::Sub": {}
                                    },
                                    "required": [
                                      "Fn::Sub"
                                    ],
                                    "additionalProperties": false
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "arn": {
                                "anyOf": [
                                  {
                                    "type": "string",
                                    "pattern": "^arn:"
                                  },
                                  {
                                    "anyOf": [
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Fn::ImportValue": {}
                                        },
                                        "additionalProperties": false,
                                        "required": [
                                          "Fn::ImportValue"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Fn::Join": {
                                            "type": "array",
                                            "minItems": 2,
                                            "maxItems": 2,
                                            "items": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "array"
                                              }
                                            ],
                                            "additionalItems": false
                                          }
                                        },
                                        "required": [
                                          "Fn::Join"
                                        ],
                                        "additionalProperties": false
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Fn::GetAtt": {
                                            "type": "array",
                                            "minItems": 2,
                                            "maxItems": 2,
                                            "items": {
                                              "type": "string",
                                              "minLength": 1
                                            }
                                          }
                                        },
                                        "required": [
                                          "Fn::GetAtt"
                                        ],
                                        "additionalProperties": false
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Ref": {
                                            "type": "string",
                                            "minLength": 1
                                          }
                                        },
                                        "required": [
                                          "Ref"
                                        ],
                                        "additionalProperties": false
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Fn::Sub": {}
                                        },
                                        "required": [
                                          "Fn::Sub"
                                        ],
                                        "additionalProperties": false
                                      }
                                    ]
                                  }
                                ]
                              },
                              "batchSize": {
                                "type": "integer",
                                "minimum": 1,
                                "maximum": 10000
                              },
                              "enabled": {
                                "type": "boolean"
                              },
                              "maximumBatchingWindow": {
                                "type": "integer",
                                "minimum": 0,
                                "maximum": 300
                              }
                            },
                            "required": [
                              "arn"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    },
                    "required": [
                      "sqs"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "cloudFront": {
                        "type": "object",
                        "properties": {
                          "behavior": {
                            "type": "object",
                            "properties": {
                              "AllowedMethods": {
                                "anyOf": [
                                  {
                                    "type": "array",
                                    "uniqueItems": true,
                                    "minItems": 2,
                                    "items": {
                                      "enum": [
                                        "GET",
                                        "HEAD"
                                      ]
                                    }
                                  },
                                  {
                                    "type": "array",
                                    "uniqueItems": true,
                                    "minItems": 3,
                                    "items": {
                                      "enum": [
                                        "GET",
                                        "HEAD",
                                        "OPTIONS"
                                      ]
                                    }
                                  },
                                  {
                                    "type": "array",
                                    "uniqueItems": true,
                                    "minItems": 7,
                                    "items": {
                                      "enum": [
                                        "GET",
                                        "HEAD",
                                        "OPTIONS",
                                        "PUT",
                                        "PATCH",
                                        "POST",
                                        "DELETE"
                                      ]
                                    }
                                  }
                                ]
                              },
                              "CachedMethods": {
                                "anyOf": [
                                  {
                                    "type": "array",
                                    "uniqueItems": true,
                                    "minItems": 2,
                                    "items": {
                                      "enum": [
                                        "GET",
                                        "HEAD"
                                      ]
                                    }
                                  },
                                  {
                                    "type": "array",
                                    "uniqueItems": true,
                                    "minItems": 3,
                                    "items": {
                                      "enum": [
                                        "GET",
                                        "HEAD",
                                        "OPTIONS"
                                      ]
                                    }
                                  }
                                ]
                              },
                              "ForwardedValues": {
                                "type": "object",
                                "properties": {
                                  "Cookies": {
                                    "anyOf": [
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Forward": {
                                            "enum": [
                                              "all",
                                              "none"
                                            ]
                                          }
                                        },
                                        "additionalProperties": false,
                                        "required": [
                                          "Forward"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Forward": {
                                            "const": "whitelist"
                                          },
                                          "WhitelistedNames": {
                                            "type": "array",
                                            "items": {
                                              "type": "string"
                                            }
                                          }
                                        },
                                        "additionalProperties": false,
                                        "required": [
                                          "Forward",
                                          "WhitelistedNames"
                                        ]
                                      }
                                    ]
                                  },
                                  "Headers": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "QueryString": {
                                    "type": "boolean"
                                  },
                                  "QueryStringCacheKeys": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "additionalProperties": false,
                                "required": [
                                  "QueryString"
                                ]
                              },
                              "CachePolicyId": {
                                "type": "string"
                              },
                              "Compress": {
                                "type": "boolean"
                              },
                              "FieldLevelEncryptionId": {
                                "type": "string"
                              },
                              "OriginRequestPolicyId": {
                                "type": "string"
                              },
                              "SmoothStreaming": {
                                "type": "boolean"
                              },
                              "TrustedSigners": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              },
                              "ViewerProtocolPolicy": {
                                "enum": [
                                  "allow-all",
                                  "redirect-to-https",
                                  "https-only"
                                ]
                              }
                            },
                            "additionalProperties": false
                          },
                          "cachePolicy": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "anyOf": [
                                  {
                                    "type": "string",
                                    "minLength": 1
                                  },
                                  {
                                    "anyOf": [
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Fn::ImportValue": {}
                                        },
                                        "additionalProperties": false,
                                        "required": [
                                          "Fn::ImportValue"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Fn::Join": {
                                            "type": "array",
                                            "minItems": 2,
                                            "maxItems": 2,
                                            "items": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "array"
                                              }
                                            ],
                                            "additionalItems": false
                                          }
                                        },
                                        "required": [
                                          "Fn::Join"
                                        ],
                                        "additionalProperties": false
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Fn::GetAtt": {
                                            "type": "array",
                                            "minItems": 2,
                                            "maxItems": 2,
                                            "items": {
                                              "type": "string",
                                              "minLength": 1
                                            }
                                          }
                                        },
                                        "required": [
                                          "Fn::GetAtt"
                                        ],
                                        "additionalProperties": false
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Ref": {
                                            "type": "string",
                                            "minLength": 1
                                          }
                                        },
                                        "required": [
                                          "Ref"
                                        ],
                                        "additionalProperties": false
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "Fn::Sub": {}
                                        },
                                        "required": [
                                          "Fn::Sub"
                                        ],
                                        "additionalProperties": false
                                      }
                                    ]
                                  }
                                ]
                              },
                              "name": {
                                "type": "string",
                                "minLength": 1
                              }
                            },
                            "oneOf": [
                              {
                                "required": [
                                  "id"
                                ]
                              },
                              {
                                "required": [
                                  "name"
                                ]
                              }
                            ],
                            "additionalProperties": false
                          },
                          "eventType": {
                            "enum": [
                              "viewer-request",
                              "origin-request",
                              "origin-response",
                              "viewer-response"
                            ]
                          },
                          "isDefaultOrigin": {
                            "type": "boolean"
                          },
                          "includeBody": {
                            "type": "boolean"
                          },
                          "origin": {
                            "anyOf": [
                              {
                                "type": "string",
                                "format": "uri"
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "ConnectionAttempts": {
                                    "type": "integer",
                                    "miminum": 1,
                                    "maximum": 3
                                  },
                                  "ConnectionTimeout": {
                                    "type": "integer",
                                    "miminum": 1,
                                    "maximum": 10
                                  },
                                  "CustomOriginConfig": {
                                    "type": "object",
                                    "properties": {
                                      "HTTPPort": {
                                        "type": "integer",
                                        "miminum": 0,
                                        "maximum": 65535
                                      },
                                      "HTTPSPort": {
                                        "type": "integer",
                                        "miminum": 0,
                                        "maximum": 65535
                                      },
                                      "OriginKeepaliveTimeout": {
                                        "type": "integer",
                                        "miminum": 1,
                                        "maximum": 60
                                      },
                                      "OriginProtocolPolicy": {
                                        "enum": [
                                          "http-only",
                                          "match-viewer",
                                          "https-only"
                                        ]
                                      },
                                      "OriginReadTimeout": {
                                        "type": "integer",
                                        "miminum": 1,
                                        "maximum": 60
                                      },
                                      "OriginSSLProtocols": {
                                        "type": "array",
                                        "items": {
                                          "enum": [
                                            "SSLv3",
                                            "TLSv1",
                                            "TLSv1.1",
                                            "TLSv1.2"
                                          ]
                                        }
                                      }
                                    },
                                    "additionalProperties": false,
                                    "required": [
                                      "OriginProtocolPolicy"
                                    ]
                                  },
                                  "DomainName": {
                                    "type": "string"
                                  },
                                  "OriginCustomHeaders": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "HeaderName": {
                                          "type": "string"
                                        },
                                        "HeaderValue": {
                                          "type": "string"
                                        }
                                      },
                                      "additionalProperties": false,
                                      "required": [
                                        "HeaderName",
                                        "HeaderValue"
                                      ]
                                    }
                                  },
                                  "OriginPath": {
                                    "type": "string"
                                  },
                                  "S3OriginConfig": {
                                    "type": "object",
                                    "properties": {
                                      "OriginAccessIdentity": {
                                        "type": "string",
                                        "pattern": "^origin-access-identity/cloudfront/.+"
                                      }
                                    },
                                    "additionalProperties": false
                                  }
                                },
                                "additionalProperties": false,
                                "required": [
                                  "DomainName",
                                  "Id"
                                ],
                                "oneOf": [
                                  {
                                    "required": [
                                      "CustomOriginConfig"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "S3OriginConfig"
                                    ]
                                  }
                                ]
                              }
                            ]
                          },
                          "pathPattern": {
                            "type": "string",
                            "pattern": "^([A-Za-z0-9_.*$/~\"'@:+-]|&amp;)+$"
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "required": [
                      "cloudFront"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "httpApi": {
                        "anyOf": [
                          {
                            "type": "string",
                            "regexp": "/^(?:\\*|(GET|POST|PUT|PATCH|OPTIONS|HEAD|DELETE) (\\/\\S*))$/i"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "authorizer": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "object",
                                    "properties": {
                                      "id": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "anyOf": [
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Fn::ImportValue": {}
                                                },
                                                "additionalProperties": false,
                                                "required": [
                                                  "Fn::ImportValue"
                                                ]
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Fn::Join": {
                                                    "type": "array",
                                                    "minItems": 2,
                                                    "maxItems": 2,
                                                    "items": [
                                                      {
                                                        "type": "string"
                                                      },
                                                      {
                                                        "type": "array"
                                                      }
                                                    ],
                                                    "additionalItems": false
                                                  }
                                                },
                                                "required": [
                                                  "Fn::Join"
                                                ],
                                                "additionalProperties": false
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Fn::GetAtt": {
                                                    "type": "array",
                                                    "minItems": 2,
                                                    "maxItems": 2,
                                                    "items": {
                                                      "type": "string",
                                                      "minLength": 1
                                                    }
                                                  }
                                                },
                                                "required": [
                                                  "Fn::GetAtt"
                                                ],
                                                "additionalProperties": false
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Ref": {
                                                    "type": "string",
                                                    "minLength": 1
                                                  }
                                                },
                                                "required": [
                                                  "Ref"
                                                ],
                                                "additionalProperties": false
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "Fn::Sub": {}
                                                },
                                                "required": [
                                                  "Fn::Sub"
                                                ],
                                                "additionalProperties": false
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "scopes": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        }
                                      }
                                    },
                                    "oneOf": [
                                      {
                                        "required": [
                                          "id"
                                        ]
                                      },
                                      {
                                        "required": [
                                          "name"
                                        ]
                                      }
                                    ],
                                    "additionalProperties": false
                                  }
                                ]
                              },
                              "method": {
                                "type": "string",
                                "regexp": "/^(?:\\*|GET|POST|PUT|PATCH|OPTIONS|HEAD|DELETE)$/i"
                              },
                              "path": {
                                "type": "string",
                                "regexp": "/^(?:\\*|\\/\\S*)$/"
                              }
                            },
                            "required": [
                              "path"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    },
                    "required": [
                      "httpApi"
                    ],
                    "additionalProperties": false
                  }
                ]
              }
            },
            "awsKmsKeyArn": {
              "anyOf": [
                {
                  "type": "object"
                },
                {
                  "type": "string",
                  "pattern": "^arn:aws[a-z-]*:kms"
                }
              ]
            },
            "condition": {
              "type": "string"
            },
            "dependsOn": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "description": {
              "type": "string",
              "maxLength": 256
            },
            "destinations": {
              "type": "object",
              "properties": {
                "onSuccess": {
                  "type": "string",
                  "minLength": 1
                },
                "onFailure": {
                  "type": "string",
                  "minLength": 1
                }
              },
              "additionalProperties": false
            },
            "disableLogs": {
              "type": "boolean"
            },
            "environment": {
              "type": "object",
              "patternProperties": {
                "^[A-Za-z_][a-zA-Z0-9_]*$": {
                  "anyOf": [
                    {
                      "const": ""
                    },
                    {
                      "anyOf": [
                        {
                          "type": "string",
                          "minLength": 1
                        },
                        {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "Fn::ImportValue": {}
                              },
                              "additionalProperties": false,
                              "required": [
                                "Fn::ImportValue"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Fn::Join": {
                                  "type": "array",
                                  "minItems": 2,
                                  "maxItems": 2,
                                  "items": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array"
                                    }
                                  ],
                                  "additionalItems": false
                                }
                              },
                              "required": [
                                "Fn::Join"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Fn::GetAtt": {
                                  "type": "array",
                                  "minItems": 2,
                                  "maxItems": 2,
                                  "items": {
                                    "type": "string",
                                    "minLength": 1
                                  }
                                }
                              },
                              "required": [
                                "Fn::GetAtt"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Ref": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              },
                              "required": [
                                "Ref"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Fn::Sub": {}
                              },
                              "required": [
                                "Fn::Sub"
                              ],
                              "additionalProperties": false
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              },
              "additionalProperties": false
            },
            "fileSystemConfig": {
              "type": "object",
              "properties": {
                "arn": {
                  "anyOf": [
                    {
                      "type": "string",
                      "pattern": "^arn:aws[a-zA-Z-]*:elasticfilesystem:[a-z]{2}((-gov)|(-iso(b?)))?-[a-z]+-[1-9]{1}:[0-9]{12}:access-point/fsap-[a-f0-9]{17}$"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Fn::GetAtt": {
                          "type": "array",
                          "minItems": 2,
                          "maxItems": 2,
                          "items": {
                            "type": "string",
                            "minLength": 1
                          }
                        }
                      },
                      "required": [
                        "Fn::GetAtt"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Fn::Join": {
                          "type": "array",
                          "minItems": 2,
                          "maxItems": 2,
                          "items": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array"
                            }
                          ],
                          "additionalItems": false
                        }
                      },
                      "required": [
                        "Fn::Join"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Fn::ImportValue": {}
                      },
                      "additionalProperties": false,
                      "required": [
                        "Fn::ImportValue"
                      ]
                    }
                  ]
                },
                "localMountPath": {
                  "type": "string",
                  "pattern": "^/mnt/[a-zA-Z0-9-_.]+$"
                }
              },
              "additionalProperties": false,
              "required": [
                "localMountPath",
                "arn"
              ]
            },
            "handler": {
              "type": "string"
            },
            "image": {
              "type": "string",
              "pattern": "^\\d+\\.dkr\\.ecr\\.[a-z0-9-]+..amazonaws.com\\/([^@]+)|([^@:]+@sha256:[a-f0-9]{64})$"
            },
            "kmsKeyArn": {
              "anyOf": [
                {
                  "type": "object"
                },
                {
                  "type": "string",
                  "pattern": "^arn:aws[a-z-]*:kms"
                }
              ]
            },
            "layers": {
              "type": "array",
              "items": {
                "anyOf": [
                  {
                    "type": "string",
                    "pattern": "^arn:"
                  },
                  {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "Fn::ImportValue": {}
                        },
                        "additionalProperties": false,
                        "required": [
                          "Fn::ImportValue"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::Join": {
                            "type": "array",
                            "minItems": 2,
                            "maxItems": 2,
                            "items": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "array"
                              }
                            ],
                            "additionalItems": false
                          }
                        },
                        "required": [
                          "Fn::Join"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::GetAtt": {
                            "type": "array",
                            "minItems": 2,
                            "maxItems": 2,
                            "items": {
                              "type": "string",
                              "minLength": 1
                            }
                          }
                        },
                        "required": [
                          "Fn::GetAtt"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Ref": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        "required": [
                          "Ref"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::Sub": {}
                        },
                        "required": [
                          "Fn::Sub"
                        ],
                        "additionalProperties": false
                      }
                    ]
                  }
                ]
              }
            },
            "maximumEventAge": {
              "type": "integer",
              "minimum": 60,
              "maximum": 21600
            },
            "maximumRetryAttempts": {
              "type": "integer",
              "minimum": 0,
              "maximum": 2
            },
            "memorySize": {
              "type": "integer",
              "minimum": 128,
              "maximum": 10240
            },
            "onError": {
              "anyOf": [
                {
                  "type": "string",
                  "pattern": "^arn:aws[a-z-]*:sns"
                },
                {
                  "anyOf": [
                    {
                      "type": "object",
                      "properties": {
                        "Fn::ImportValue": {}
                      },
                      "additionalProperties": false,
                      "required": [
                        "Fn::ImportValue"
                      ]
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Fn::Join": {
                          "type": "array",
                          "minItems": 2,
                          "maxItems": 2,
                          "items": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array"
                            }
                          ],
                          "additionalItems": false
                        }
                      },
                      "required": [
                        "Fn::Join"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Fn::GetAtt": {
                          "type": "array",
                          "minItems": 2,
                          "maxItems": 2,
                          "items": {
                            "type": "string",
                            "minLength": 1
                          }
                        }
                      },
                      "required": [
                        "Fn::GetAtt"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Ref": {
                          "type": "string",
                          "minLength": 1
                        }
                      },
                      "required": [
                        "Ref"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Fn::Sub": {}
                      },
                      "required": [
                        "Fn::Sub"
                      ],
                      "additionalProperties": false
                    }
                  ]
                }
              ]
            },
            "package": {
              "type": "object",
              "properties": {
                "artifact": {
                  "type": "string"
                },
                "exclude": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "include": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "individually": {
                  "type": "boolean"
                }
              },
              "additionalProperties": false
            },
            "provisionedConcurrency": {
              "type": "integer",
              "minimum": 1
            },
            "reservedConcurrency": {
              "type": "integer",
              "minimum": 0
            },
            "role": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1
                },
                {
                  "type": "object",
                  "properties": {
                    "Fn::ImportValue": {}
                  },
                  "additionalProperties": false,
                  "required": [
                    "Fn::ImportValue"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "Fn::GetAtt": {
                      "type": "array",
                      "minItems": 2,
                      "maxItems": 2,
                      "items": {
                        "type": "string",
                        "minLength": 1
                      }
                    }
                  },
                  "required": [
                    "Fn::GetAtt"
                  ],
                  "additionalProperties": false
                }
              ]
            },
            "runtime": {
              "enum": [
                "dotnetcore2.1",
                "dotnetcore3.1",
                "go1.x",
                "java11",
                "java8",
                "java8.al2",
                "nodejs10.x",
                "nodejs12.x",
                "provided",
                "provided.al2",
                "python2.7",
                "python3.6",
                "python3.7",
                "python3.8",
                "ruby2.5",
                "ruby2.7"
              ]
            },
            "tags": {
              "type": "object",
              "patternProperties": {
                "^(?!aws:)[\\w./=+:-_\\x20]{1,128}$": {
                  "type": "string",
                  "maxLength": 256
                }
              },
              "additionalProperties": false
            },
            "timeout": {
              "type": "integer",
              "minimum": 1,
              "maximum": 900
            },
            "tracing": {
              "anyOf": [
                {
                  "enum": [
                    "Active",
                    "PassThrough"
                  ]
                },
                {
                  "type": "boolean"
                }
              ]
            },
            "versionFunction": {
              "type": "boolean"
            },
            "vpc": {
              "type": "object",
              "properties": {
                "securityGroupIds": {
                  "type": "array",
                  "items": {
                    "anyOf": [
                      {
                        "type": "string",
                        "minLength": 1
                      },
                      {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "Fn::ImportValue": {}
                            },
                            "additionalProperties": false,
                            "required": [
                              "Fn::ImportValue"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Join": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array"
                                  }
                                ],
                                "additionalItems": false
                              }
                            },
                            "required": [
                              "Fn::Join"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::GetAtt": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              }
                            },
                            "required": [
                              "Fn::GetAtt"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Ref": {
                                "type": "string",
                                "minLength": 1
                              }
                            },
                            "required": [
                              "Ref"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Sub": {}
                            },
                            "required": [
                              "Fn::Sub"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    ]
                  },
                  "maxItems": 5
                },
                "subnetIds": {
                  "type": "array",
                  "items": {
                    "anyOf": [
                      {
                        "type": "string",
                        "minLength": 1
                      },
                      {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "Fn::ImportValue": {}
                            },
                            "additionalProperties": false,
                            "required": [
                              "Fn::ImportValue"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Join": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array"
                                  }
                                ],
                                "additionalItems": false
                              }
                            },
                            "required": [
                              "Fn::Join"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::GetAtt": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              }
                            },
                            "required": [
                              "Fn::GetAtt"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Ref": {
                                "type": "string",
                                "minLength": 1
                              }
                            },
                            "required": [
                              "Ref"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Sub": {}
                            },
                            "required": [
                              "Fn::Sub"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    ]
                  },
                  "maxItems": 16
                }
              }
            }
          },
          "additionalProperties": false,
          "required": []
        }
      },
      "additionalProperties": false
    },
    "package": {
      "type": "object",
      "properties": {
        "individually": {
          "type": "boolean"
        },
        "path": {
          "type": "string"
        },
        "artifact": {
          "type": "string"
        },
        "exclude": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "include": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "excludeDevDependencies": {
          "type": "boolean"
        }
      },
      "additionalProperties": false
    },
    "plugins": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "localPath": {
              "type": "string"
            },
            "modules": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "additionalProperties": false,
          "required": [
            "modules"
          ]
        },
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      ]
    },
    "provider": {
      "type": "object",
      "properties": {
        "name": {
          "const": "aws"
        },
        "apiGateway": {
          "type": "object",
          "properties": {
            "apiKeys": {
              "type": "array",
              "items": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string"
                      },
                      "value": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "customerId": {
                        "type": "string"
                      }
                    },
                    "anyOf": [
                      {
                        "required": [
                          "name"
                        ]
                      },
                      {
                        "required": [
                          "value"
                        ]
                      }
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "maxProperties": 1,
                    "additionalProperties": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                ]
              }
            },
            "apiKeySourceType": {
              "anyOf": [
                {
                  "type": "string",
                  "regexp": "/^HEADER$/i"
                },
                {
                  "type": "string",
                  "regexp": "/^AUTHORIZER$/i"
                }
              ]
            },
            "binaryMediaTypes": {
              "type": "array",
              "items": {
                "type": "string",
                "pattern": "^\\S+\\/\\S+$"
              }
            },
            "description": {
              "type": "string"
            },
            "metrics": {
              "type": "boolean"
            },
            "minimumCompressionSize": {
              "type": "integer",
              "minimum": 0,
              "maximum": 10485760
            },
            "resourcePolicy": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "Sid": {
                    "type": "string"
                  },
                  "Effect": {
                    "enum": [
                      "Allow",
                      "Deny"
                    ]
                  },
                  "Action": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "NotAction": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "Principal": {
                    "anyOf": [
                      {
                        "const": "*"
                      },
                      {
                        "type": "object",
                        "properties": {
                          "AWS": {
                            "anyOf": [
                              {
                                "const": "*"
                              },
                              {
                                "type": "array",
                                "items": {
                                  "anyOf": [
                                    {
                                      "type": "string",
                                      "pattern": "^arn:"
                                    },
                                    {
                                      "anyOf": [
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Fn::ImportValue": {}
                                          },
                                          "additionalProperties": false,
                                          "required": [
                                            "Fn::ImportValue"
                                          ]
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Fn::Join": {
                                              "type": "array",
                                              "minItems": 2,
                                              "maxItems": 2,
                                              "items": [
                                                {
                                                  "type": "string"
                                                },
                                                {
                                                  "type": "array"
                                                }
                                              ],
                                              "additionalItems": false
                                            }
                                          },
                                          "required": [
                                            "Fn::Join"
                                          ],
                                          "additionalProperties": false
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Fn::GetAtt": {
                                              "type": "array",
                                              "minItems": 2,
                                              "maxItems": 2,
                                              "items": {
                                                "type": "string",
                                                "minLength": 1
                                              }
                                            }
                                          },
                                          "required": [
                                            "Fn::GetAtt"
                                          ],
                                          "additionalProperties": false
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Ref": {
                                              "type": "string",
                                              "minLength": 1
                                            }
                                          },
                                          "required": [
                                            "Ref"
                                          ],
                                          "additionalProperties": false
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Fn::Sub": {}
                                          },
                                          "required": [
                                            "Fn::Sub"
                                          ],
                                          "additionalProperties": false
                                        }
                                      ]
                                    }
                                  ]
                                }
                              }
                            ]
                          },
                          "Federated": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "Service": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "CanonicalUser": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        },
                        "additionalProperties": false
                      }
                    ]
                  },
                  "NotPrincipal": {
                    "anyOf": [
                      {
                        "const": "*"
                      },
                      {
                        "type": "object",
                        "properties": {
                          "AWS": {
                            "anyOf": [
                              {
                                "const": "*"
                              },
                              {
                                "type": "array",
                                "items": {
                                  "anyOf": [
                                    {
                                      "type": "string",
                                      "pattern": "^arn:"
                                    },
                                    {
                                      "anyOf": [
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Fn::ImportValue": {}
                                          },
                                          "additionalProperties": false,
                                          "required": [
                                            "Fn::ImportValue"
                                          ]
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Fn::Join": {
                                              "type": "array",
                                              "minItems": 2,
                                              "maxItems": 2,
                                              "items": [
                                                {
                                                  "type": "string"
                                                },
                                                {
                                                  "type": "array"
                                                }
                                              ],
                                              "additionalItems": false
                                            }
                                          },
                                          "required": [
                                            "Fn::Join"
                                          ],
                                          "additionalProperties": false
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Fn::GetAtt": {
                                              "type": "array",
                                              "minItems": 2,
                                              "maxItems": 2,
                                              "items": {
                                                "type": "string",
                                                "minLength": 1
                                              }
                                            }
                                          },
                                          "required": [
                                            "Fn::GetAtt"
                                          ],
                                          "additionalProperties": false
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Ref": {
                                              "type": "string",
                                              "minLength": 1
                                            }
                                          },
                                          "required": [
                                            "Ref"
                                          ],
                                          "additionalProperties": false
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Fn::Sub": {}
                                          },
                                          "required": [
                                            "Fn::Sub"
                                          ],
                                          "additionalProperties": false
                                        }
                                      ]
                                    }
                                  ]
                                }
                              }
                            ]
                          },
                          "Federated": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "Service": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "CanonicalUser": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        },
                        "additionalProperties": false
                      }
                    ]
                  },
                  "Resource": {
                    "anyOf": [
                      {
                        "const": "*"
                      },
                      {
                        "anyOf": [
                          {
                            "type": "string",
                            "pattern": "^arn:"
                          },
                          {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "Fn::ImportValue": {}
                                },
                                "additionalProperties": false,
                                "required": [
                                  "Fn::ImportValue"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Fn::Join": {
                                    "type": "array",
                                    "minItems": 2,
                                    "maxItems": 2,
                                    "items": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array"
                                      }
                                    ],
                                    "additionalItems": false
                                  }
                                },
                                "required": [
                                  "Fn::Join"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Fn::GetAtt": {
                                    "type": "array",
                                    "minItems": 2,
                                    "maxItems": 2,
                                    "items": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  }
                                },
                                "required": [
                                  "Fn::GetAtt"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Ref": {
                                    "type": "string",
                                    "minLength": 1
                                  }
                                },
                                "required": [
                                  "Ref"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Fn::Sub": {}
                                },
                                "required": [
                                  "Fn::Sub"
                                ],
                                "additionalProperties": false
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "string",
                        "pattern": "^execute-api:/"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "const": "*"
                            },
                            {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "pattern": "^arn:"
                                },
                                {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::ImportValue": {}
                                      },
                                      "additionalProperties": false,
                                      "required": [
                                        "Fn::ImportValue"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::Join": {
                                          "type": "array",
                                          "minItems": 2,
                                          "maxItems": 2,
                                          "items": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "array"
                                            }
                                          ],
                                          "additionalItems": false
                                        }
                                      },
                                      "required": [
                                        "Fn::Join"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::GetAtt": {
                                          "type": "array",
                                          "minItems": 2,
                                          "maxItems": 2,
                                          "items": {
                                            "type": "string",
                                            "minLength": 1
                                          }
                                        }
                                      },
                                      "required": [
                                        "Fn::GetAtt"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Ref": {
                                          "type": "string",
                                          "minLength": 1
                                        }
                                      },
                                      "required": [
                                        "Ref"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::Sub": {}
                                      },
                                      "required": [
                                        "Fn::Sub"
                                      ],
                                      "additionalProperties": false
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "string",
                              "pattern": "^execute-api:/"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "NotResource": {
                    "anyOf": [
                      {
                        "const": "*"
                      },
                      {
                        "anyOf": [
                          {
                            "type": "string",
                            "pattern": "^arn:"
                          },
                          {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "Fn::ImportValue": {}
                                },
                                "additionalProperties": false,
                                "required": [
                                  "Fn::ImportValue"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Fn::Join": {
                                    "type": "array",
                                    "minItems": 2,
                                    "maxItems": 2,
                                    "items": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array"
                                      }
                                    ],
                                    "additionalItems": false
                                  }
                                },
                                "required": [
                                  "Fn::Join"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Fn::GetAtt": {
                                    "type": "array",
                                    "minItems": 2,
                                    "maxItems": 2,
                                    "items": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  }
                                },
                                "required": [
                                  "Fn::GetAtt"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Ref": {
                                    "type": "string",
                                    "minLength": 1
                                  }
                                },
                                "required": [
                                  "Ref"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Fn::Sub": {}
                                },
                                "required": [
                                  "Fn::Sub"
                                ],
                                "additionalProperties": false
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "string",
                        "pattern": "^execute-api:/"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "const": "*"
                            },
                            {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "pattern": "^arn:"
                                },
                                {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::ImportValue": {}
                                      },
                                      "additionalProperties": false,
                                      "required": [
                                        "Fn::ImportValue"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::Join": {
                                          "type": "array",
                                          "minItems": 2,
                                          "maxItems": 2,
                                          "items": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "array"
                                            }
                                          ],
                                          "additionalItems": false
                                        }
                                      },
                                      "required": [
                                        "Fn::Join"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::GetAtt": {
                                          "type": "array",
                                          "minItems": 2,
                                          "maxItems": 2,
                                          "items": {
                                            "type": "string",
                                            "minLength": 1
                                          }
                                        }
                                      },
                                      "required": [
                                        "Fn::GetAtt"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Ref": {
                                          "type": "string",
                                          "minLength": 1
                                        }
                                      },
                                      "required": [
                                        "Ref"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::Sub": {}
                                      },
                                      "required": [
                                        "Fn::Sub"
                                      ],
                                      "additionalProperties": false
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "string",
                              "pattern": "^execute-api:/"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "Condition": {
                    "type": "object"
                  }
                },
                "additionalProperties": false,
                "allOf": [
                  {
                    "required": [
                      "Effect"
                    ]
                  },
                  {
                    "oneOf": [
                      {
                        "required": [
                          "Action"
                        ]
                      },
                      {
                        "required": [
                          "NotAction"
                        ]
                      }
                    ]
                  },
                  {
                    "oneOf": [
                      {
                        "required": [
                          "Resource"
                        ]
                      },
                      {
                        "required": [
                          "NotResource"
                        ]
                      }
                    ]
                  }
                ]
              }
            },
            "restApiId": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1
                },
                {
                  "anyOf": [
                    {
                      "type": "object",
                      "properties": {
                        "Fn::ImportValue": {}
                      },
                      "additionalProperties": false,
                      "required": [
                        "Fn::ImportValue"
                      ]
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Fn::Join": {
                          "type": "array",
                          "minItems": 2,
                          "maxItems": 2,
                          "items": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array"
                            }
                          ],
                          "additionalItems": false
                        }
                      },
                      "required": [
                        "Fn::Join"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Fn::GetAtt": {
                          "type": "array",
                          "minItems": 2,
                          "maxItems": 2,
                          "items": {
                            "type": "string",
                            "minLength": 1
                          }
                        }
                      },
                      "required": [
                        "Fn::GetAtt"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Ref": {
                          "type": "string",
                          "minLength": 1
                        }
                      },
                      "required": [
                        "Ref"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Fn::Sub": {}
                      },
                      "required": [
                        "Fn::Sub"
                      ],
                      "additionalProperties": false
                    }
                  ]
                }
              ]
            },
            "restApiResources": {
              "anyOf": [
                {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "path": {
                        "type": "string"
                      },
                      "resourceId": {
                        "type": "string"
                      }
                    },
                    "required": [],
                    "additionalProperties": false
                  }
                },
                {
                  "type": "object"
                }
              ]
            },
            "restApiRootResourceId": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1
                },
                {
                  "anyOf": [
                    {
                      "type": "object",
                      "properties": {
                        "Fn::ImportValue": {}
                      },
                      "additionalProperties": false,
                      "required": [
                        "Fn::ImportValue"
                      ]
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Fn::Join": {
                          "type": "array",
                          "minItems": 2,
                          "maxItems": 2,
                          "items": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array"
                            }
                          ],
                          "additionalItems": false
                        }
                      },
                      "required": [
                        "Fn::Join"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Fn::GetAtt": {
                          "type": "array",
                          "minItems": 2,
                          "maxItems": 2,
                          "items": {
                            "type": "string",
                            "minLength": 1
                          }
                        }
                      },
                      "required": [
                        "Fn::GetAtt"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Ref": {
                          "type": "string",
                          "minLength": 1
                        }
                      },
                      "required": [
                        "Ref"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Fn::Sub": {}
                      },
                      "required": [
                        "Fn::Sub"
                      ],
                      "additionalProperties": false
                    }
                  ]
                }
              ]
            },
            "shouldStartNameWithService": {
              "const": true
            },
            "usagePlan": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "quota": {
                      "type": "object",
                      "properties": {
                        "limit": {
                          "type": "integer",
                          "minimum": 0
                        },
                        "offset": {
                          "type": "integer",
                          "minimum": 0
                        },
                        "period": {
                          "enum": [
                            "DAY",
                            "WEEK",
                            "MONTH"
                          ]
                        }
                      },
                      "additionalProperties": false
                    },
                    "throttle": {
                      "type": "object",
                      "properties": {
                        "burstLimit": {
                          "type": "integer",
                          "minimum": 0
                        },
                        "rateLimit": {
                          "type": "integer",
                          "minimum": 0
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "quota": {
                          "type": "object",
                          "properties": {
                            "limit": {
                              "type": "integer",
                              "minimum": 0
                            },
                            "offset": {
                              "type": "integer",
                              "minimum": 0
                            },
                            "period": {
                              "enum": [
                                "DAY",
                                "WEEK",
                                "MONTH"
                              ]
                            }
                          },
                          "additionalProperties": false
                        },
                        "throttle": {
                          "type": "object",
                          "properties": {
                            "burstLimit": {
                              "type": "integer",
                              "minimum": 0
                            },
                            "rateLimit": {
                              "type": "integer",
                              "minimum": 0
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "additionalProperties": false
                    },
                    "maxProperties": 1
                  }
                }
              ]
            },
            "websocketApiId": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1
                },
                {
                  "anyOf": [
                    {
                      "type": "object",
                      "properties": {
                        "Fn::ImportValue": {}
                      },
                      "additionalProperties": false,
                      "required": [
                        "Fn::ImportValue"
                      ]
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Fn::Join": {
                          "type": "array",
                          "minItems": 2,
                          "maxItems": 2,
                          "items": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array"
                            }
                          ],
                          "additionalItems": false
                        }
                      },
                      "required": [
                        "Fn::Join"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Fn::GetAtt": {
                          "type": "array",
                          "minItems": 2,
                          "maxItems": 2,
                          "items": {
                            "type": "string",
                            "minLength": 1
                          }
                        }
                      },
                      "required": [
                        "Fn::GetAtt"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Ref": {
                          "type": "string",
                          "minLength": 1
                        }
                      },
                      "required": [
                        "Ref"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Fn::Sub": {}
                      },
                      "required": [
                        "Fn::Sub"
                      ],
                      "additionalProperties": false
                    }
                  ]
                }
              ]
            }
          },
          "additionalProperties": false
        },
        "apiKeys": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "value": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "customerId": {
                    "type": "string"
                  }
                },
                "anyOf": [
                  {
                    "required": [
                      "name"
                    ]
                  },
                  {
                    "required": [
                      "value"
                    ]
                  }
                ],
                "additionalProperties": false
              },
              {
                "type": "object",
                "maxProperties": 1,
                "additionalProperties": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            ]
          }
        },
        "apiName": {
          "type": "string"
        },
        "alb": {
          "type": "object",
          "properties": {
            "targetGroupPrefix": {
              "type": "string",
              "maxLength": 16
            },
            "authorizers": {
              "type": "object",
              "additionalProperties": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "type": {
                        "const": "oidc"
                      },
                      "authorizationEndpoint": {
                        "format": "uri"
                      },
                      "clientId": {
                        "type": "string"
                      },
                      "clientSecret": {
                        "type": "string"
                      },
                      "issuer": {
                        "format": "uri"
                      },
                      "tokenEndpoint": {
                        "format": "uri"
                      },
                      "userInfoEndpoint": {
                        "format": "uri"
                      },
                      "onUnauthenticatedRequest": {
                        "enum": [
                          "allow",
                          "authenticate",
                          "deny"
                        ]
                      },
                      "requestExtraParams": {
                        "type": "object",
                        "maxProperties": 10,
                        "additionalProperties": {
                          "type": "string"
                        }
                      },
                      "scope": {
                        "type": "string"
                      },
                      "sessionCookieName": {
                        "type": "string"
                      },
                      "sessionTimeout": {
                        "type": "integer",
                        "minimum": 0
                      }
                    },
                    "required": [
                      "type",
                      "authorizationEndpoint",
                      "clientId",
                      "issuer",
                      "tokenEndpoint",
                      "userInfoEndpoint"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "type": {
                        "const": "cognito"
                      },
                      "userPoolArn": {
                        "anyOf": [
                          {
                            "type": "string",
                            "pattern": "^arn:"
                          },
                          {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "Fn::ImportValue": {}
                                },
                                "additionalProperties": false,
                                "required": [
                                  "Fn::ImportValue"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Fn::Join": {
                                    "type": "array",
                                    "minItems": 2,
                                    "maxItems": 2,
                                    "items": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array"
                                      }
                                    ],
                                    "additionalItems": false
                                  }
                                },
                                "required": [
                                  "Fn::Join"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Fn::GetAtt": {
                                    "type": "array",
                                    "minItems": 2,
                                    "maxItems": 2,
                                    "items": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  }
                                },
                                "required": [
                                  "Fn::GetAtt"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Ref": {
                                    "type": "string",
                                    "minLength": 1
                                  }
                                },
                                "required": [
                                  "Ref"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Fn::Sub": {}
                                },
                                "required": [
                                  "Fn::Sub"
                                ],
                                "additionalProperties": false
                              }
                            ]
                          }
                        ]
                      },
                      "userPoolClientId": {
                        "type": "string"
                      },
                      "userPoolDomain": {
                        "type": "string"
                      },
                      "onUnauthenticatedRequest": {
                        "enum": [
                          "allow",
                          "authenticate",
                          "deny"
                        ]
                      },
                      "requestExtraParams": {
                        "type": "object",
                        "maxProperties": 10,
                        "additionalProperties": {
                          "type": "string"
                        }
                      },
                      "scope": {
                        "type": "string"
                      },
                      "sessionCookieName": {
                        "type": "string"
                      },
                      "sessionTimeout": {
                        "type": "integer",
                        "minimum": 0
                      }
                    },
                    "required": [
                      "type",
                      "userPoolArn",
                      "userPoolClientId",
                      "userPoolDomain"
                    ],
                    "additionalProperties": false
                  }
                ]
              }
            }
          },
          "additionalProperties": false
        },
        "cfnRole": {
          "anyOf": [
            {
              "type": "string",
              "pattern": "^arn:"
            },
            {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "Fn::ImportValue": {}
                  },
                  "additionalProperties": false,
                  "required": [
                    "Fn::ImportValue"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "Fn::Join": {
                      "type": "array",
                      "minItems": 2,
                      "maxItems": 2,
                      "items": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "array"
                        }
                      ],
                      "additionalItems": false
                    }
                  },
                  "required": [
                    "Fn::Join"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "Fn::GetAtt": {
                      "type": "array",
                      "minItems": 2,
                      "maxItems": 2,
                      "items": {
                        "type": "string",
                        "minLength": 1
                      }
                    }
                  },
                  "required": [
                    "Fn::GetAtt"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "Ref": {
                      "type": "string",
                      "minLength": 1
                    }
                  },
                  "required": [
                    "Ref"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "Fn::Sub": {}
                  },
                  "required": [
                    "Fn::Sub"
                  ],
                  "additionalProperties": false
                }
              ]
            }
          ]
        },
        "cloudFront": {
          "type": "object",
          "properties": {
            "cachePolicies": {
              "type": "object",
              "additionalProperties": {
                "type": "object",
                "properties": {
                  "Comment": {
                    "type": "string"
                  },
                  "DefaultTTL": {
                    "type": "integer",
                    "minimum": 0
                  },
                  "MaxTTL": {
                    "type": "integer",
                    "minimum": 0
                  },
                  "MinTTL": {
                    "type": "integer",
                    "minimum": 0
                  },
                  "ParametersInCacheKeyAndForwardedToOrigin": {
                    "type": "object",
                    "properties": {
                      "CookiesConfig": {
                        "type": "object",
                        "properties": {
                          "CookieBehavior": {
                            "enum": [
                              "none",
                              "whitelist",
                              "allExcept",
                              "all"
                            ]
                          },
                          "Cookies": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        },
                        "required": [
                          "CookieBehavior"
                        ],
                        "additionalProperties": false
                      },
                      "EnableAcceptEncodingBrotli": {
                        "type": "boolean"
                      },
                      "EnableAcceptEncodingGzip": {
                        "type": "boolean"
                      },
                      "HeadersConfig": {
                        "type": "object",
                        "properties": {
                          "HeaderBehavior": {
                            "enum": [
                              "none",
                              "whitelist"
                            ]
                          },
                          "Headers": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        },
                        "required": [
                          "HeaderBehavior"
                        ],
                        "additionalProperties": false
                      },
                      "QueryStringsConfig": {
                        "type": "object",
                        "properties": {
                          "QueryStringBehavior": {
                            "enum": [
                              "none",
                              "whitelist",
                              "allExcept",
                              "all"
                            ]
                          },
                          "QueryStrings": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        },
                        "required": [
                          "QueryStringBehavior"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "requires": [
                      "CookiesConfig",
                      "EnableAcceptEncodingGzip",
                      "HeadersConfig",
                      "QueryStringsConfig"
                    ],
                    "additionalProperties": false
                  }
                },
                "required": [
                  "DefaultTTL",
                  "MaxTTL",
                  "MinTTL",
                  "ParametersInCacheKeyAndForwardedToOrigin"
                ],
                "additionalProperties": false
              }
            }
          },
          "additionalProperties": false
        },
        "deploymentBucket": {
          "anyOf": [
            {
              "type": "string",
              "pattern": "(?!^(\\d{1,3}\\.){3}\\d{1,3}$)(^(([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])\\.)*([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])$)",
              "minLength": 3,
              "maxLength": 63
            },
            {
              "type": "object",
              "properties": {
                "blockPublicAccess": {
                  "type": "boolean"
                },
                "skipPolicySetup": {
                  "type": "boolean"
                },
                "maxPreviousDeploymentArtifacts": {
                  "type": "integer",
                  "minimum": 0
                },
                "name": {
                  "type": "string",
                  "pattern": "(?!^(\\d{1,3}\\.){3}\\d{1,3}$)(^(([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])\\.)*([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])$)",
                  "minLength": 3,
                  "maxLength": 63
                },
                "serverSideEncryption": {
                  "enum": [
                    "AES256",
                    "aws:kms"
                  ]
                },
                "sseCustomerAlgorithim": {
                  "type": "string"
                },
                "sseCustomerKey": {
                  "type": "string"
                },
                "sseCustomerKeyMD5": {
                  "type": "string"
                },
                "sseKMSKeyId": {
                  "type": "string"
                },
                "tags": {
                  "type": "object",
                  "patternProperties": {
                    "^(?!aws:)[\\w./=+:-_\\x20]{1,128}$": {
                      "type": "string",
                      "maxLength": 256
                    }
                  },
                  "additionalProperties": false
                }
              },
              "additionalProperties": false
            }
          ]
        },
        "deploymentPrefix": {
          "type": "string"
        },
        "endpointType": {
          "anyOf": [
            {
              "type": "string",
              "regexp": "/^REGIONAL$/i"
            },
            {
              "type": "string",
              "regexp": "/^EDGE$/i"
            },
            {
              "type": "string",
              "regexp": "/^PRIVATE$/i"
            }
          ]
        },
        "environment": {
          "type": "object",
          "patternProperties": {
            "^[A-Za-z_][a-zA-Z0-9_]*$": {
              "anyOf": [
                {
                  "const": ""
                },
                {
                  "anyOf": [
                    {
                      "type": "string",
                      "minLength": 1
                    },
                    {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "Fn::ImportValue": {}
                          },
                          "additionalProperties": false,
                          "required": [
                            "Fn::ImportValue"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "Fn::Join": {
                              "type": "array",
                              "minItems": 2,
                              "maxItems": 2,
                              "items": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array"
                                }
                              ],
                              "additionalItems": false
                            }
                          },
                          "required": [
                            "Fn::Join"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "Fn::GetAtt": {
                              "type": "array",
                              "minItems": 2,
                              "maxItems": 2,
                              "items": {
                                "type": "string",
                                "minLength": 1
                              }
                            }
                          },
                          "required": [
                            "Fn::GetAtt"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "Ref": {
                              "type": "string",
                              "minLength": 1
                            }
                          },
                          "required": [
                            "Ref"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "properties": {
                            "Fn::Sub": {}
                          },
                          "required": [
                            "Fn::Sub"
                          ],
                          "additionalProperties": false
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          },
          "additionalProperties": false
        },
        "httpApi": {
          "type": "object",
          "properties": {
            "authorizers": {
              "type": "object",
              "additionalProperties": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "identitySource": {
                    "anyOf": [
                      {
                        "type": "string",
                        "minLength": 1
                      },
                      {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "Fn::ImportValue": {}
                            },
                            "additionalProperties": false,
                            "required": [
                              "Fn::ImportValue"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Join": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array"
                                  }
                                ],
                                "additionalItems": false
                              }
                            },
                            "required": [
                              "Fn::Join"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::GetAtt": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              }
                            },
                            "required": [
                              "Fn::GetAtt"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Ref": {
                                "type": "string",
                                "minLength": 1
                              }
                            },
                            "required": [
                              "Ref"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Sub": {}
                            },
                            "required": [
                              "Fn::Sub"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    ]
                  },
                  "issuerUrl": {
                    "anyOf": [
                      {
                        "type": "string",
                        "minLength": 1
                      },
                      {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "Fn::ImportValue": {}
                            },
                            "additionalProperties": false,
                            "required": [
                              "Fn::ImportValue"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Join": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array"
                                  }
                                ],
                                "additionalItems": false
                              }
                            },
                            "required": [
                              "Fn::Join"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::GetAtt": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              }
                            },
                            "required": [
                              "Fn::GetAtt"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Ref": {
                                "type": "string",
                                "minLength": 1
                              }
                            },
                            "required": [
                              "Ref"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Sub": {}
                            },
                            "required": [
                              "Fn::Sub"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    ]
                  },
                  "audience": {
                    "anyOf": [
                      {
                        "anyOf": [
                          {
                            "type": "string",
                            "minLength": 1
                          },
                          {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "Fn::ImportValue": {}
                                },
                                "additionalProperties": false,
                                "required": [
                                  "Fn::ImportValue"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Fn::Join": {
                                    "type": "array",
                                    "minItems": 2,
                                    "maxItems": 2,
                                    "items": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array"
                                      }
                                    ],
                                    "additionalItems": false
                                  }
                                },
                                "required": [
                                  "Fn::Join"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Fn::GetAtt": {
                                    "type": "array",
                                    "minItems": 2,
                                    "maxItems": 2,
                                    "items": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  }
                                },
                                "required": [
                                  "Fn::GetAtt"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Ref": {
                                    "type": "string",
                                    "minLength": 1
                                  }
                                },
                                "required": [
                                  "Ref"
                                ],
                                "additionalProperties": false
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "Fn::Sub": {}
                                },
                                "required": [
                                  "Fn::Sub"
                                ],
                                "additionalProperties": false
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string",
                              "minLength": 1
                            },
                            {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::ImportValue": {}
                                  },
                                  "additionalProperties": false,
                                  "required": [
                                    "Fn::ImportValue"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Join": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "array"
                                        }
                                      ],
                                      "additionalItems": false
                                    }
                                  },
                                  "required": [
                                    "Fn::Join"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::GetAtt": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": {
                                        "type": "string",
                                        "minLength": 1
                                      }
                                    }
                                  },
                                  "required": [
                                    "Fn::GetAtt"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Ref": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  },
                                  "required": [
                                    "Ref"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Sub": {}
                                  },
                                  "required": [
                                    "Fn::Sub"
                                  ],
                                  "additionalProperties": false
                                }
                              ]
                            }
                          ]
                        }
                      }
                    ]
                  }
                },
                "required": [
                  "identitySource",
                  "issuerUrl",
                  "audience"
                ],
                "additionalProperties": false
              }
            },
            "cors": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "object",
                  "properties": {
                    "allowCredentials": {
                      "type": "boolean"
                    },
                    "allowedHeaders": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "allowedMethods": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "allowedOrigins": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "exposedResponseHeaders": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "maxAge": {
                      "type": "integer",
                      "minimum": 0
                    }
                  },
                  "additionalProperties": false
                }
              ]
            },
            "id": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "object",
                  "properties": {
                    "Fn::ImportValue": {
                      "type": "string"
                    }
                  },
                  "additionalProperties": false,
                  "required": [
                    "Fn::ImportValue"
                  ]
                }
              ]
            },
            "name": {
              "type": "string"
            },
            "payload": {
              "type": "string"
            },
            "metrics": {
              "type": "boolean"
            }
          },
          "additionalProperties": false
        },
        "iamManagedPolicies": {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^arn:"
          }
        },
        "iamRoleStatements": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "Sid": {
                "type": "string"
              },
              "Effect": {
                "enum": [
                  "Allow",
                  "Deny"
                ]
              },
              "Action": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "NotAction": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "Principal": {
                "anyOf": [
                  {
                    "const": "*"
                  },
                  {
                    "type": "object",
                    "properties": {
                      "AWS": {
                        "anyOf": [
                          {
                            "const": "*"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "pattern": "^arn:"
                                },
                                {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::ImportValue": {}
                                      },
                                      "additionalProperties": false,
                                      "required": [
                                        "Fn::ImportValue"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::Join": {
                                          "type": "array",
                                          "minItems": 2,
                                          "maxItems": 2,
                                          "items": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "array"
                                            }
                                          ],
                                          "additionalItems": false
                                        }
                                      },
                                      "required": [
                                        "Fn::Join"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::GetAtt": {
                                          "type": "array",
                                          "minItems": 2,
                                          "maxItems": 2,
                                          "items": {
                                            "type": "string",
                                            "minLength": 1
                                          }
                                        }
                                      },
                                      "required": [
                                        "Fn::GetAtt"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Ref": {
                                          "type": "string",
                                          "minLength": 1
                                        }
                                      },
                                      "required": [
                                        "Ref"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::Sub": {}
                                      },
                                      "required": [
                                        "Fn::Sub"
                                      ],
                                      "additionalProperties": false
                                    }
                                  ]
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "Federated": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "Service": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "CanonicalUser": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    },
                    "additionalProperties": false
                  }
                ]
              },
              "NotPrincipal": {
                "anyOf": [
                  {
                    "const": "*"
                  },
                  {
                    "type": "object",
                    "properties": {
                      "AWS": {
                        "anyOf": [
                          {
                            "const": "*"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "pattern": "^arn:"
                                },
                                {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::ImportValue": {}
                                      },
                                      "additionalProperties": false,
                                      "required": [
                                        "Fn::ImportValue"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::Join": {
                                          "type": "array",
                                          "minItems": 2,
                                          "maxItems": 2,
                                          "items": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "array"
                                            }
                                          ],
                                          "additionalItems": false
                                        }
                                      },
                                      "required": [
                                        "Fn::Join"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::GetAtt": {
                                          "type": "array",
                                          "minItems": 2,
                                          "maxItems": 2,
                                          "items": {
                                            "type": "string",
                                            "minLength": 1
                                          }
                                        }
                                      },
                                      "required": [
                                        "Fn::GetAtt"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Ref": {
                                          "type": "string",
                                          "minLength": 1
                                        }
                                      },
                                      "required": [
                                        "Ref"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::Sub": {}
                                      },
                                      "required": [
                                        "Fn::Sub"
                                      ],
                                      "additionalProperties": false
                                    }
                                  ]
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "Federated": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "Service": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "CanonicalUser": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    },
                    "additionalProperties": false
                  }
                ]
              },
              "Resource": {
                "anyOf": [
                  {
                    "const": "*"
                  },
                  {
                    "anyOf": [
                      {
                        "type": "string",
                        "pattern": "^arn:"
                      },
                      {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "Fn::ImportValue": {}
                            },
                            "additionalProperties": false,
                            "required": [
                              "Fn::ImportValue"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Join": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array"
                                  }
                                ],
                                "additionalItems": false
                              }
                            },
                            "required": [
                              "Fn::Join"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::GetAtt": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              }
                            },
                            "required": [
                              "Fn::GetAtt"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Ref": {
                                "type": "string",
                                "minLength": 1
                              }
                            },
                            "required": [
                              "Ref"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Sub": {}
                            },
                            "required": [
                              "Fn::Sub"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "const": "*"
                        },
                        {
                          "anyOf": [
                            {
                              "type": "string",
                              "pattern": "^arn:"
                            },
                            {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::ImportValue": {}
                                  },
                                  "additionalProperties": false,
                                  "required": [
                                    "Fn::ImportValue"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Join": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "array"
                                        }
                                      ],
                                      "additionalItems": false
                                    }
                                  },
                                  "required": [
                                    "Fn::Join"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::GetAtt": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": {
                                        "type": "string",
                                        "minLength": 1
                                      }
                                    }
                                  },
                                  "required": [
                                    "Fn::GetAtt"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Ref": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  },
                                  "required": [
                                    "Ref"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Sub": {}
                                  },
                                  "required": [
                                    "Fn::Sub"
                                  ],
                                  "additionalProperties": false
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              "NotResource": {
                "anyOf": [
                  {
                    "const": "*"
                  },
                  {
                    "anyOf": [
                      {
                        "type": "string",
                        "pattern": "^arn:"
                      },
                      {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "Fn::ImportValue": {}
                            },
                            "additionalProperties": false,
                            "required": [
                              "Fn::ImportValue"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Join": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array"
                                  }
                                ],
                                "additionalItems": false
                              }
                            },
                            "required": [
                              "Fn::Join"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::GetAtt": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              }
                            },
                            "required": [
                              "Fn::GetAtt"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Ref": {
                                "type": "string",
                                "minLength": 1
                              }
                            },
                            "required": [
                              "Ref"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Sub": {}
                            },
                            "required": [
                              "Fn::Sub"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "const": "*"
                        },
                        {
                          "anyOf": [
                            {
                              "type": "string",
                              "pattern": "^arn:"
                            },
                            {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::ImportValue": {}
                                  },
                                  "additionalProperties": false,
                                  "required": [
                                    "Fn::ImportValue"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Join": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "array"
                                        }
                                      ],
                                      "additionalItems": false
                                    }
                                  },
                                  "required": [
                                    "Fn::Join"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::GetAtt": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": {
                                        "type": "string",
                                        "minLength": 1
                                      }
                                    }
                                  },
                                  "required": [
                                    "Fn::GetAtt"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Ref": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  },
                                  "required": [
                                    "Ref"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Sub": {}
                                  },
                                  "required": [
                                    "Fn::Sub"
                                  ],
                                  "additionalProperties": false
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              "Condition": {
                "type": "object"
              }
            },
            "additionalProperties": false,
            "allOf": [
              {
                "required": [
                  "Effect"
                ]
              },
              {
                "oneOf": [
                  {
                    "required": [
                      "Action"
                    ]
                  },
                  {
                    "required": [
                      "NotAction"
                    ]
                  }
                ]
              },
              {
                "oneOf": [
                  {
                    "required": [
                      "Resource"
                    ]
                  },
                  {
                    "required": [
                      "NotResource"
                    ]
                  }
                ]
              }
            ]
          }
        },
        "kmsKeyArn": {
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "string",
              "pattern": "^arn:aws[a-z-]*:kms"
            }
          ]
        },
        "lambdaHashingVersion": {
          "type": "string",
          "enum": [
            "20201221"
          ]
        },
        "layers": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^arn:"
              },
              {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "Fn::ImportValue": {}
                    },
                    "additionalProperties": false,
                    "required": [
                      "Fn::ImportValue"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Fn::Join": {
                        "type": "array",
                        "minItems": 2,
                        "maxItems": 2,
                        "items": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array"
                          }
                        ],
                        "additionalItems": false
                      }
                    },
                    "required": [
                      "Fn::Join"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Fn::GetAtt": {
                        "type": "array",
                        "minItems": 2,
                        "maxItems": 2,
                        "items": {
                          "type": "string",
                          "minLength": 1
                        }
                      }
                    },
                    "required": [
                      "Fn::GetAtt"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Ref": {
                        "type": "string",
                        "minLength": 1
                      }
                    },
                    "required": [
                      "Ref"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Fn::Sub": {}
                    },
                    "required": [
                      "Fn::Sub"
                    ],
                    "additionalProperties": false
                  }
                ]
              }
            ]
          }
        },
        "logRetentionInDays": {
          "enum": [
            1,
            3,
            5,
            7,
            14,
            30,
            60,
            90,
            120,
            150,
            180,
            365,
            400,
            545,
            731,
            1827,
            3653
          ]
        },
        "logs": {
          "type": "object",
          "properties": {
            "frameworkLambda": {
              "type": "boolean"
            },
            "httpApi": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "object",
                  "properties": {
                    "format": {
                      "type": "string"
                    }
                  },
                  "additionalProperties": false
                }
              ]
            },
            "restApi": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "object",
                  "properties": {
                    "accessLogging": {
                      "type": "boolean"
                    },
                    "executionLogging": {
                      "type": "boolean"
                    },
                    "format": {
                      "type": "string"
                    },
                    "fullExecutionData": {
                      "type": "boolean"
                    },
                    "level": {
                      "enum": [
                        "INFO",
                        "ERROR"
                      ]
                    },
                    "role": {
                      "anyOf": [
                        {
                          "type": "string",
                          "pattern": "^arn:"
                        },
                        {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "Fn::ImportValue": {}
                              },
                              "additionalProperties": false,
                              "required": [
                                "Fn::ImportValue"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Fn::Join": {
                                  "type": "array",
                                  "minItems": 2,
                                  "maxItems": 2,
                                  "items": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array"
                                    }
                                  ],
                                  "additionalItems": false
                                }
                              },
                              "required": [
                                "Fn::Join"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Fn::GetAtt": {
                                  "type": "array",
                                  "minItems": 2,
                                  "maxItems": 2,
                                  "items": {
                                    "type": "string",
                                    "minLength": 1
                                  }
                                }
                              },
                              "required": [
                                "Fn::GetAtt"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Ref": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              },
                              "required": [
                                "Ref"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Fn::Sub": {}
                              },
                              "required": [
                                "Fn::Sub"
                              ],
                              "additionalProperties": false
                            }
                          ]
                        }
                      ]
                    },
                    "roleManagedExternally": {
                      "type": "boolean"
                    }
                  },
                  "additionalProperties": false
                }
              ]
            },
            "websocket": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "object",
                  "properties": {
                    "level": {
                      "enum": [
                        "INFO",
                        "ERROR"
                      ]
                    }
                  },
                  "additionalProperties": false
                }
              ]
            }
          }
        },
        "memorySize": {
          "type": "integer",
          "minimum": 128,
          "maximum": 10240
        },
        "notificationArns": {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^arn:"
          }
        },
        "profile": {
          "type": "string"
        },
        "region": {
          "enum": [
            "us-east-1",
            "us-east-2",
            "us-gov-east-1",
            "us-gov-west-1",
            "us-west-1",
            "us-west-2",
            "af-south-1",
            "ap-east-1",
            "ap-northeast-1",
            "ap-northeast-2",
            "ap-northeast-3",
            "ap-south-1",
            "ap-southeast-1",
            "ap-southeast-2",
            "ca-central-1",
            "cn-north-1",
            "cn-northwest-1",
            "eu-central-1",
            "eu-north-1",
            "eu-south-1",
            "eu-west-1",
            "eu-west-2",
            "eu-west-3",
            "me-south-1",
            "sa-east-1"
          ]
        },
        "resourcePolicy": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "Sid": {
                "type": "string"
              },
              "Effect": {
                "enum": [
                  "Allow",
                  "Deny"
                ]
              },
              "Action": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "NotAction": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "Principal": {
                "anyOf": [
                  {
                    "const": "*"
                  },
                  {
                    "type": "object",
                    "properties": {
                      "AWS": {
                        "anyOf": [
                          {
                            "const": "*"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "pattern": "^arn:"
                                },
                                {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::ImportValue": {}
                                      },
                                      "additionalProperties": false,
                                      "required": [
                                        "Fn::ImportValue"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::Join": {
                                          "type": "array",
                                          "minItems": 2,
                                          "maxItems": 2,
                                          "items": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "array"
                                            }
                                          ],
                                          "additionalItems": false
                                        }
                                      },
                                      "required": [
                                        "Fn::Join"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::GetAtt": {
                                          "type": "array",
                                          "minItems": 2,
                                          "maxItems": 2,
                                          "items": {
                                            "type": "string",
                                            "minLength": 1
                                          }
                                        }
                                      },
                                      "required": [
                                        "Fn::GetAtt"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Ref": {
                                          "type": "string",
                                          "minLength": 1
                                        }
                                      },
                                      "required": [
                                        "Ref"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::Sub": {}
                                      },
                                      "required": [
                                        "Fn::Sub"
                                      ],
                                      "additionalProperties": false
                                    }
                                  ]
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "Federated": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "Service": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "CanonicalUser": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    },
                    "additionalProperties": false
                  }
                ]
              },
              "NotPrincipal": {
                "anyOf": [
                  {
                    "const": "*"
                  },
                  {
                    "type": "object",
                    "properties": {
                      "AWS": {
                        "anyOf": [
                          {
                            "const": "*"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "pattern": "^arn:"
                                },
                                {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::ImportValue": {}
                                      },
                                      "additionalProperties": false,
                                      "required": [
                                        "Fn::ImportValue"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::Join": {
                                          "type": "array",
                                          "minItems": 2,
                                          "maxItems": 2,
                                          "items": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "array"
                                            }
                                          ],
                                          "additionalItems": false
                                        }
                                      },
                                      "required": [
                                        "Fn::Join"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::GetAtt": {
                                          "type": "array",
                                          "minItems": 2,
                                          "maxItems": 2,
                                          "items": {
                                            "type": "string",
                                            "minLength": 1
                                          }
                                        }
                                      },
                                      "required": [
                                        "Fn::GetAtt"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Ref": {
                                          "type": "string",
                                          "minLength": 1
                                        }
                                      },
                                      "required": [
                                        "Ref"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::Sub": {}
                                      },
                                      "required": [
                                        "Fn::Sub"
                                      ],
                                      "additionalProperties": false
                                    }
                                  ]
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "Federated": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "Service": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "CanonicalUser": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    },
                    "additionalProperties": false
                  }
                ]
              },
              "Resource": {
                "anyOf": [
                  {
                    "const": "*"
                  },
                  {
                    "anyOf": [
                      {
                        "type": "string",
                        "pattern": "^arn:"
                      },
                      {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "Fn::ImportValue": {}
                            },
                            "additionalProperties": false,
                            "required": [
                              "Fn::ImportValue"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Join": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array"
                                  }
                                ],
                                "additionalItems": false
                              }
                            },
                            "required": [
                              "Fn::Join"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::GetAtt": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              }
                            },
                            "required": [
                              "Fn::GetAtt"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Ref": {
                                "type": "string",
                                "minLength": 1
                              }
                            },
                            "required": [
                              "Ref"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Sub": {}
                            },
                            "required": [
                              "Fn::Sub"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "string",
                    "pattern": "^execute-api:/"
                  },
                  {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "const": "*"
                        },
                        {
                          "anyOf": [
                            {
                              "type": "string",
                              "pattern": "^arn:"
                            },
                            {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::ImportValue": {}
                                  },
                                  "additionalProperties": false,
                                  "required": [
                                    "Fn::ImportValue"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Join": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "array"
                                        }
                                      ],
                                      "additionalItems": false
                                    }
                                  },
                                  "required": [
                                    "Fn::Join"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::GetAtt": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": {
                                        "type": "string",
                                        "minLength": 1
                                      }
                                    }
                                  },
                                  "required": [
                                    "Fn::GetAtt"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Ref": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  },
                                  "required": [
                                    "Ref"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Sub": {}
                                  },
                                  "required": [
                                    "Fn::Sub"
                                  ],
                                  "additionalProperties": false
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "string",
                          "pattern": "^execute-api:/"
                        }
                      ]
                    }
                  }
                ]
              },
              "NotResource": {
                "anyOf": [
                  {
                    "const": "*"
                  },
                  {
                    "anyOf": [
                      {
                        "type": "string",
                        "pattern": "^arn:"
                      },
                      {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "Fn::ImportValue": {}
                            },
                            "additionalProperties": false,
                            "required": [
                              "Fn::ImportValue"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Join": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array"
                                  }
                                ],
                                "additionalItems": false
                              }
                            },
                            "required": [
                              "Fn::Join"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::GetAtt": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              }
                            },
                            "required": [
                              "Fn::GetAtt"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Ref": {
                                "type": "string",
                                "minLength": 1
                              }
                            },
                            "required": [
                              "Ref"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Sub": {}
                            },
                            "required": [
                              "Fn::Sub"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "string",
                    "pattern": "^execute-api:/"
                  },
                  {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "const": "*"
                        },
                        {
                          "anyOf": [
                            {
                              "type": "string",
                              "pattern": "^arn:"
                            },
                            {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::ImportValue": {}
                                  },
                                  "additionalProperties": false,
                                  "required": [
                                    "Fn::ImportValue"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Join": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "array"
                                        }
                                      ],
                                      "additionalItems": false
                                    }
                                  },
                                  "required": [
                                    "Fn::Join"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::GetAtt": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": {
                                        "type": "string",
                                        "minLength": 1
                                      }
                                    }
                                  },
                                  "required": [
                                    "Fn::GetAtt"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Ref": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  },
                                  "required": [
                                    "Ref"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Sub": {}
                                  },
                                  "required": [
                                    "Fn::Sub"
                                  ],
                                  "additionalProperties": false
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "string",
                          "pattern": "^execute-api:/"
                        }
                      ]
                    }
                  }
                ]
              },
              "Condition": {
                "type": "object"
              }
            },
            "additionalProperties": false,
            "allOf": [
              {
                "required": [
                  "Effect"
                ]
              },
              {
                "oneOf": [
                  {
                    "required": [
                      "Action"
                    ]
                  },
                  {
                    "required": [
                      "NotAction"
                    ]
                  }
                ]
              },
              {
                "oneOf": [
                  {
                    "required": [
                      "Resource"
                    ]
                  },
                  {
                    "required": [
                      "NotResource"
                    ]
                  }
                ]
              }
            ]
          }
        },
        "role": {
          "anyOf": [
            {
              "type": "string",
              "minLength": 1
            },
            {
              "type": "object",
              "properties": {
                "Fn::ImportValue": {}
              },
              "additionalProperties": false,
              "required": [
                "Fn::ImportValue"
              ]
            },
            {
              "type": "object",
              "properties": {
                "Fn::GetAtt": {
                  "type": "array",
                  "minItems": 2,
                  "maxItems": 2,
                  "items": {
                    "type": "string",
                    "minLength": 1
                  }
                }
              },
              "required": [
                "Fn::GetAtt"
              ],
              "additionalProperties": false
            }
          ]
        },
        "rolePermissionsBoundary": {
          "type": "string",
          "pattern": "^arn:"
        },
        "rollbackConfiguration": {
          "type": "object",
          "properties": {
            "RollbackTriggers": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "Arn": {
                    "type": "string",
                    "pattern": "^arn:"
                  },
                  "Type": {
                    "const": "AWS::CloudWatch::Alarm"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "Arn",
                  "Type"
                ]
              }
            },
            "MonitoringTimeInMinutes": {
              "type": "integer",
              "minimum": 0
            }
          },
          "additionalProperties": false
        },
        "runtime": {
          "enum": [
            "dotnetcore2.1",
            "dotnetcore3.1",
            "go1.x",
            "java11",
            "java8",
            "java8.al2",
            "nodejs10.x",
            "nodejs12.x",
            "provided",
            "provided.al2",
            "python2.7",
            "python3.6",
            "python3.7",
            "python3.8",
            "ruby2.5",
            "ruby2.7"
          ]
        },
        "s3": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "accelerateConfiguration": {
                "type": "object",
                "properties": {
                  "AccelerationStatus": {
                    "enum": [
                      "Enabled",
                      "Suspended"
                    ]
                  }
                },
                "required": [
                  "AccelerationStatus"
                ],
                "additionalProperties": false
              },
              "accessControl": {
                "type": "string"
              },
              "analyticsConfigurations": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "Id": {
                      "type": "string"
                    },
                    "Prefix": {
                      "type": "string"
                    },
                    "StorageClassAnalysis": {
                      "type": "object",
                      "properties": {
                        "DataExport": {
                          "type": "object",
                          "properties": {
                            "Destination": {
                              "type": "object",
                              "properties": {
                                "BucketAccountId": {
                                  "type": "string",
                                  "pattern": "\\d{12}"
                                },
                                "BucketArn": {
                                  "anyOf": [
                                    {
                                      "type": "string",
                                      "pattern": "^arn:"
                                    },
                                    {
                                      "anyOf": [
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Fn::ImportValue": {}
                                          },
                                          "additionalProperties": false,
                                          "required": [
                                            "Fn::ImportValue"
                                          ]
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Fn::Join": {
                                              "type": "array",
                                              "minItems": 2,
                                              "maxItems": 2,
                                              "items": [
                                                {
                                                  "type": "string"
                                                },
                                                {
                                                  "type": "array"
                                                }
                                              ],
                                              "additionalItems": false
                                            }
                                          },
                                          "required": [
                                            "Fn::Join"
                                          ],
                                          "additionalProperties": false
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Fn::GetAtt": {
                                              "type": "array",
                                              "minItems": 2,
                                              "maxItems": 2,
                                              "items": {
                                                "type": "string",
                                                "minLength": 1
                                              }
                                            }
                                          },
                                          "required": [
                                            "Fn::GetAtt"
                                          ],
                                          "additionalProperties": false
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Ref": {
                                              "type": "string",
                                              "minLength": 1
                                            }
                                          },
                                          "required": [
                                            "Ref"
                                          ],
                                          "additionalProperties": false
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Fn::Sub": {}
                                          },
                                          "required": [
                                            "Fn::Sub"
                                          ],
                                          "additionalProperties": false
                                        }
                                      ]
                                    }
                                  ]
                                },
                                "Format": {
                                  "enum": [
                                    "CSV",
                                    "ORC",
                                    "Parquet"
                                  ]
                                },
                                "Prefix": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "BucketArn",
                                "Format"
                              ],
                              "additionalProperties": false
                            },
                            "OutputSchemaVersion": {
                              "const": "V_1"
                            }
                          },
                          "required": [
                            "Destination",
                            "OutputSchemaVersion"
                          ],
                          "additionalProperties": false
                        }
                      },
                      "additionalProperties": false
                    },
                    "TagFilters": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "Key": {
                            "type": "string"
                          },
                          "Value": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "Key",
                          "Value"
                        ],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": [
                    "Id",
                    "StorageClassAnalysis"
                  ],
                  "additionalProperties": false
                }
              },
              "bucketEncryption": {
                "type": "object",
                "properties": {
                  "ServerSideEncryptionConfiguration": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "ServerSideEncryptionByDefault": {
                          "type": "object",
                          "properties": {
                            "KMSMasterKeyID": {
                              "anyOf": [
                                {
                                  "anyOf": [
                                    {
                                      "type": "string",
                                      "pattern": "^arn:"
                                    },
                                    {
                                      "anyOf": [
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Fn::ImportValue": {}
                                          },
                                          "additionalProperties": false,
                                          "required": [
                                            "Fn::ImportValue"
                                          ]
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Fn::Join": {
                                              "type": "array",
                                              "minItems": 2,
                                              "maxItems": 2,
                                              "items": [
                                                {
                                                  "type": "string"
                                                },
                                                {
                                                  "type": "array"
                                                }
                                              ],
                                              "additionalItems": false
                                            }
                                          },
                                          "required": [
                                            "Fn::Join"
                                          ],
                                          "additionalProperties": false
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Fn::GetAtt": {
                                              "type": "array",
                                              "minItems": 2,
                                              "maxItems": 2,
                                              "items": {
                                                "type": "string",
                                                "minLength": 1
                                              }
                                            }
                                          },
                                          "required": [
                                            "Fn::GetAtt"
                                          ],
                                          "additionalProperties": false
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Ref": {
                                              "type": "string",
                                              "minLength": 1
                                            }
                                          },
                                          "required": [
                                            "Ref"
                                          ],
                                          "additionalProperties": false
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "Fn::Sub": {}
                                          },
                                          "required": [
                                            "Fn::Sub"
                                          ],
                                          "additionalProperties": false
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "string",
                                  "pattern": "^[a-f0-9-]+$"
                                }
                              ]
                            },
                            "SSEAlgorithm": {
                              "enum": [
                                "AES256",
                                "aws:kms"
                              ]
                            }
                          },
                          "required": [
                            "SSEAlgorithm"
                          ],
                          "additionalProperties": false
                        }
                      },
                      "additionalProperties": false
                    }
                  }
                },
                "required": [
                  "ServerSideEncryptionConfiguration"
                ],
                "additionalProperties": false
              },
              "bucketName": {
                "type": "string",
                "pattern": "(?!^(\\d{1,3}\\.){3}\\d{1,3}$)(^(([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])\\.)*([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])$)",
                "minLength": 3,
                "maxLength": 63
              },
              "corsConfiguration": {
                "type": "object",
                "properties": {
                  "CorsRules": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "AllowedHeaders": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "AllowedMethods": {
                          "type": "array",
                          "items": {
                            "enum": [
                              "GET",
                              "PUT",
                              "HEAD",
                              "POST",
                              "DELETE"
                            ]
                          }
                        },
                        "AllowedOrigins": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "ExposedHeaders": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "Id": {
                          "type": "string",
                          "maxLength": 255
                        },
                        "MaxAge": {
                          "type": "integer",
                          "minimum": 0
                        }
                      },
                      "required": [
                        "AllowedMethods",
                        "AllowedOrigins"
                      ],
                      "additionalProperties": false
                    },
                    "maxItems": 100
                  }
                },
                "required": [
                  "CorsRules"
                ],
                "additionalProperties": false
              },
              "inventoryConfigurations": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "Destination": {
                      "type": "object",
                      "properties": {
                        "BucketAccountId": {
                          "type": "string",
                          "pattern": "\\d{12}"
                        },
                        "BucketArn": {
                          "anyOf": [
                            {
                              "type": "string",
                              "pattern": "^arn:"
                            },
                            {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::ImportValue": {}
                                  },
                                  "additionalProperties": false,
                                  "required": [
                                    "Fn::ImportValue"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Join": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "array"
                                        }
                                      ],
                                      "additionalItems": false
                                    }
                                  },
                                  "required": [
                                    "Fn::Join"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::GetAtt": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": {
                                        "type": "string",
                                        "minLength": 1
                                      }
                                    }
                                  },
                                  "required": [
                                    "Fn::GetAtt"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Ref": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  },
                                  "required": [
                                    "Ref"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Sub": {}
                                  },
                                  "required": [
                                    "Fn::Sub"
                                  ],
                                  "additionalProperties": false
                                }
                              ]
                            }
                          ]
                        },
                        "Format": {
                          "enum": [
                            "CSV",
                            "ORC",
                            "Parquet"
                          ]
                        },
                        "Prefix": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "BucketArn",
                        "Format"
                      ],
                      "additionalProperties": false
                    },
                    "Enabled": {
                      "type": "boolean"
                    },
                    "Id": {
                      "type": "string"
                    },
                    "IncludedObjectVersions": {
                      "enum": [
                        "All",
                        "Current"
                      ]
                    },
                    "OptionalFields": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "Prefix": {
                      "type": "string"
                    },
                    "ScheduleFrequency": {
                      "enum": [
                        "Daily",
                        "Weekly"
                      ]
                    }
                  },
                  "required": [
                    "Destination",
                    "Enabled",
                    "Id",
                    "IncludedObjectVersions",
                    "ScheduleFrequency"
                  ],
                  "additionalProperties": false
                }
              },
              "lifecycleConfiguration": {
                "type": "object",
                "properties": {
                  "Rules": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "AbortIncompleteMultipartUpload": {
                          "type": "object",
                          "properties": {
                            "DaysAfterInitiation": {
                              "type": "integer",
                              "minimum": 0
                            }
                          },
                          "required": [
                            "DaysAfterInitiation"
                          ],
                          "additionalProperties": false
                        },
                        "ExpirationDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "ExpirationInDays": {
                          "type": "integer",
                          "minimum": 0
                        },
                        "Id": {
                          "type": "string",
                          "maxLength": 255
                        },
                        "NoncurrentVersionExpirationInDays": {
                          "type": "integer",
                          "minimum": 0
                        },
                        "NoncurrentVersionTransition": {
                          "type": "object",
                          "properties": {
                            "StorageClass": {
                              "enum": [
                                "DEEP_ARCHIVE",
                                "GLACIER",
                                "INTELLIGENT_TIERING",
                                "ONEZONE_IA",
                                "STANDARD_IA"
                              ]
                            },
                            "TransitionInDays": {
                              "type": "integer",
                              "minimum": 0
                            }
                          },
                          "required": [
                            "StorageClass",
                            "TransitionInDays"
                          ],
                          "additionalProperties": false
                        },
                        "NoncurrentVersionTransitions": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "StorageClass": {
                                "enum": [
                                  "DEEP_ARCHIVE",
                                  "GLACIER",
                                  "INTELLIGENT_TIERING",
                                  "ONEZONE_IA",
                                  "STANDARD_IA"
                                ]
                              },
                              "TransitionInDays": {
                                "type": "integer",
                                "minimum": 0
                              }
                            },
                            "required": [
                              "StorageClass",
                              "TransitionInDays"
                            ],
                            "additionalProperties": false
                          }
                        },
                        "Prefix": {
                          "type": "string"
                        },
                        "Status": {
                          "enum": [
                            "Disabled",
                            "Enabled"
                          ]
                        },
                        "TagFilters": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "Key": {
                                "type": "string"
                              },
                              "Value": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "Key",
                              "Value"
                            ],
                            "additionalProperties": false
                          }
                        },
                        "Transitions": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "StorageClass": {
                                "enum": [
                                  "DEEP_ARCHIVE",
                                  "GLACIER",
                                  "INTELLIGENT_TIERING",
                                  "ONEZONE_IA",
                                  "STANDARD_IA"
                                ]
                              },
                              "TransitionDate": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "TransitionInDays": {
                                "type": "integer",
                                "minimum": 1
                              }
                            },
                            "required": [
                              "StorageClass"
                            ],
                            "additionalProperties": false
                          }
                        }
                      },
                      "required": [
                        "Status"
                      ],
                      "anyOf": [
                        {
                          "required": [
                            "AbortIncompleteMultipartUpload"
                          ]
                        },
                        {
                          "required": [
                            "ExpirationDate"
                          ]
                        },
                        {
                          "required": [
                            "ExpirationInDays"
                          ]
                        },
                        {
                          "required": [
                            "NoncurrentVersionExpirationInDays"
                          ]
                        },
                        {
                          "required": [
                            "NoncurrentVersionTransition"
                          ]
                        },
                        {
                          "required": [
                            "NoncurrentVersionTransitions"
                          ]
                        },
                        {
                          "required": [
                            "Transition"
                          ]
                        },
                        {
                          "required": [
                            "Transitions"
                          ]
                        }
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                "required": [
                  "Rules"
                ],
                "additionalProperties": false
              },
              "loggingConfiguration": {
                "type": "object",
                "properties": {
                  "DestinationBucketName": {
                    "anyOf": [
                      {
                        "type": "string",
                        "pattern": "(?!^(\\d{1,3}\\.){3}\\d{1,3}$)(^(([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])\\.)*([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])$)",
                        "minLength": 3,
                        "maxLength": 63
                      },
                      {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "Fn::ImportValue": {}
                            },
                            "additionalProperties": false,
                            "required": [
                              "Fn::ImportValue"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Join": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array"
                                  }
                                ],
                                "additionalItems": false
                              }
                            },
                            "required": [
                              "Fn::Join"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::GetAtt": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              }
                            },
                            "required": [
                              "Fn::GetAtt"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Ref": {
                                "type": "string",
                                "minLength": 1
                              }
                            },
                            "required": [
                              "Ref"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Sub": {}
                            },
                            "required": [
                              "Fn::Sub"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    ]
                  },
                  "LogFilePrefix": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              },
              "metricsConfigurations": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "Id": {
                      "type": "string"
                    },
                    "Prefix": {
                      "type": "string"
                    },
                    "TagFilters": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "Key": {
                            "type": "string"
                          },
                          "Value": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "Key",
                          "Value"
                        ],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": [
                    "Id"
                  ],
                  "additionalProperties": false
                }
              },
              "name": {
                "type": "string",
                "pattern": "(?!^(\\d{1,3}\\.){3}\\d{1,3}$)(^(([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])\\.)*([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])$)",
                "minLength": 3,
                "maxLength": 63
              },
              "notificationConfiguration": {
                "type": "object",
                "properties": {
                  "LambdaConfigurations": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "Event": {
                          "type": "string",
                          "pattern": "^s3:"
                        },
                        "Filter": {
                          "type": "object",
                          "properties": {
                            "S3Key": {
                              "type": "object",
                              "properties": {
                                "Rules": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "Name": {
                                        "enum": [
                                          "prefix",
                                          "suffix"
                                        ]
                                      },
                                      "Value": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "Name",
                                      "Value"
                                    ],
                                    "additionalProperties": false
                                  }
                                }
                              },
                              "required": [
                                "Rules"
                              ],
                              "additionalProperties": false
                            }
                          },
                          "required": [
                            "S3Key"
                          ],
                          "additionalProperties": false
                        },
                        "Function": {
                          "anyOf": [
                            {
                              "type": "string",
                              "pattern": "^arn:"
                            },
                            {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::ImportValue": {}
                                  },
                                  "additionalProperties": false,
                                  "required": [
                                    "Fn::ImportValue"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Join": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "array"
                                        }
                                      ],
                                      "additionalItems": false
                                    }
                                  },
                                  "required": [
                                    "Fn::Join"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::GetAtt": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": {
                                        "type": "string",
                                        "minLength": 1
                                      }
                                    }
                                  },
                                  "required": [
                                    "Fn::GetAtt"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Ref": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  },
                                  "required": [
                                    "Ref"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Sub": {}
                                  },
                                  "required": [
                                    "Fn::Sub"
                                  ],
                                  "additionalProperties": false
                                }
                              ]
                            }
                          ]
                        }
                      },
                      "required": [
                        "Event",
                        "Function"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "QueueConfigurations": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "Event": {
                          "type": "string",
                          "pattern": "^s3:"
                        },
                        "Filter": {
                          "type": "object",
                          "properties": {
                            "S3Key": {
                              "type": "object",
                              "properties": {
                                "Rules": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "Name": {
                                        "enum": [
                                          "prefix",
                                          "suffix"
                                        ]
                                      },
                                      "Value": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "Name",
                                      "Value"
                                    ],
                                    "additionalProperties": false
                                  }
                                }
                              },
                              "required": [
                                "Rules"
                              ],
                              "additionalProperties": false
                            }
                          },
                          "required": [
                            "S3Key"
                          ],
                          "additionalProperties": false
                        },
                        "Queue": {
                          "anyOf": [
                            {
                              "type": "string",
                              "pattern": "^arn:"
                            },
                            {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::ImportValue": {}
                                  },
                                  "additionalProperties": false,
                                  "required": [
                                    "Fn::ImportValue"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Join": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "array"
                                        }
                                      ],
                                      "additionalItems": false
                                    }
                                  },
                                  "required": [
                                    "Fn::Join"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::GetAtt": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": {
                                        "type": "string",
                                        "minLength": 1
                                      }
                                    }
                                  },
                                  "required": [
                                    "Fn::GetAtt"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Ref": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  },
                                  "required": [
                                    "Ref"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Sub": {}
                                  },
                                  "required": [
                                    "Fn::Sub"
                                  ],
                                  "additionalProperties": false
                                }
                              ]
                            }
                          ]
                        }
                      },
                      "required": [
                        "Event",
                        "Queue"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "TopicConfigurations": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "Event": {
                          "type": "string",
                          "pattern": "^s3:"
                        },
                        "Filter": {
                          "type": "object",
                          "properties": {
                            "S3Key": {
                              "type": "object",
                              "properties": {
                                "Rules": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "Name": {
                                        "enum": [
                                          "prefix",
                                          "suffix"
                                        ]
                                      },
                                      "Value": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "Name",
                                      "Value"
                                    ],
                                    "additionalProperties": false
                                  }
                                }
                              },
                              "required": [
                                "Rules"
                              ],
                              "additionalProperties": false
                            }
                          },
                          "required": [
                            "S3Key"
                          ],
                          "additionalProperties": false
                        },
                        "Topic": {
                          "anyOf": [
                            {
                              "type": "string",
                              "pattern": "^arn:"
                            },
                            {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::ImportValue": {}
                                  },
                                  "additionalProperties": false,
                                  "required": [
                                    "Fn::ImportValue"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Join": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "array"
                                        }
                                      ],
                                      "additionalItems": false
                                    }
                                  },
                                  "required": [
                                    "Fn::Join"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::GetAtt": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": {
                                        "type": "string",
                                        "minLength": 1
                                      }
                                    }
                                  },
                                  "required": [
                                    "Fn::GetAtt"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Ref": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  },
                                  "required": [
                                    "Ref"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Sub": {}
                                  },
                                  "required": [
                                    "Fn::Sub"
                                  ],
                                  "additionalProperties": false
                                }
                              ]
                            }
                          ]
                        }
                      },
                      "required": [
                        "Event",
                        "Topic"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                "additionalProperties": false
              },
              "objectLockConfiguration": {
                "type": "object",
                "properties": {
                  "ObjectLockEnabled": {
                    "const": "Enabled"
                  },
                  "Rule": {
                    "type": "object",
                    "properties": {
                      "DefaultRetention": {
                        "type": "object",
                        "properties": {
                          "Days": {
                            "type": "integer",
                            "minimum": 0
                          },
                          "Mode": {
                            "enum": [
                              "COMPLIANCE",
                              "GOVERNANCE"
                            ]
                          },
                          "Years": {
                            "type": "integer",
                            "minimum": 0
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              },
              "objectLockEnabled": {
                "type": "boolean"
              },
              "publicAccessBlockConfiguration": {
                "type": "object",
                "properties": {
                  "BlockPublicAcls": {
                    "type": "boolean"
                  },
                  "BlockPublicPolicy": {
                    "type": "boolean"
                  },
                  "IgnorePublicAcls": {
                    "type": "boolean"
                  },
                  "RestrictPublicBuckets": {
                    "type": "boolean"
                  }
                },
                "additionalProperties": false
              },
              "replicationConfiguration": {
                "type": "object",
                "properties": {
                  "Role": {
                    "anyOf": [
                      {
                        "type": "string",
                        "pattern": "^arn:"
                      },
                      {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "Fn::ImportValue": {}
                            },
                            "additionalProperties": false,
                            "required": [
                              "Fn::ImportValue"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Join": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array"
                                  }
                                ],
                                "additionalItems": false
                              }
                            },
                            "required": [
                              "Fn::Join"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::GetAtt": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              }
                            },
                            "required": [
                              "Fn::GetAtt"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Ref": {
                                "type": "string",
                                "minLength": 1
                              }
                            },
                            "required": [
                              "Ref"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Sub": {}
                            },
                            "required": [
                              "Fn::Sub"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    ]
                  },
                  "Rules": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "DeleteMarkerReplication": {
                          "type": "object",
                          "properties": {
                            "Status": {
                              "enum": [
                                "Disabled",
                                "Enabled"
                              ]
                            }
                          },
                          "additionalProperties": false
                        },
                        "Destination": {
                          "type": "object",
                          "properties": {
                            "AccessControlTranslation": {
                              "type": "object",
                              "properties": {
                                "Owner": {
                                  "const": "Destination"
                                }
                              },
                              "required": [
                                "Owner"
                              ],
                              "additionalProperties": false
                            },
                            "Account": {
                              "type": "string",
                              "pattern": "^\\d{12}$"
                            },
                            "Bucket": {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "pattern": "^arn:"
                                },
                                {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::ImportValue": {}
                                      },
                                      "additionalProperties": false,
                                      "required": [
                                        "Fn::ImportValue"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::Join": {
                                          "type": "array",
                                          "minItems": 2,
                                          "maxItems": 2,
                                          "items": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "array"
                                            }
                                          ],
                                          "additionalItems": false
                                        }
                                      },
                                      "required": [
                                        "Fn::Join"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::GetAtt": {
                                          "type": "array",
                                          "minItems": 2,
                                          "maxItems": 2,
                                          "items": {
                                            "type": "string",
                                            "minLength": 1
                                          }
                                        }
                                      },
                                      "required": [
                                        "Fn::GetAtt"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Ref": {
                                          "type": "string",
                                          "minLength": 1
                                        }
                                      },
                                      "required": [
                                        "Ref"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::Sub": {}
                                      },
                                      "required": [
                                        "Fn::Sub"
                                      ],
                                      "additionalProperties": false
                                    }
                                  ]
                                }
                              ]
                            },
                            "EncryptionConfiguration": {
                              "type": "object",
                              "properties": {
                                "ReplicaKmsKeyID": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "ReplicaKmsKeyID"
                              ],
                              "additionalProperties": false
                            },
                            "Metrics": {
                              "type": "object",
                              "properties": {
                                "EventThreshold": {
                                  "type": "object",
                                  "properties": {
                                    "Minutes": {
                                      "type": "integer",
                                      "minimum": 0
                                    }
                                  },
                                  "required": [
                                    "Minutes"
                                  ],
                                  "additionalProperties": false
                                },
                                "Status": {
                                  "enum": [
                                    "Disabled",
                                    "Enabled"
                                  ]
                                }
                              },
                              "required": [
                                "EventThreshold",
                                "Status"
                              ],
                              "additionalProperties": false
                            },
                            "ReplicationTime": {
                              "type": "object",
                              "properties": {
                                "Status": {
                                  "enum": [
                                    "Disabled",
                                    "Enabled"
                                  ]
                                },
                                "Time": {
                                  "type": "object",
                                  "properties": {
                                    "Minutes": {
                                      "type": "integer",
                                      "minimum": 0
                                    }
                                  },
                                  "required": [
                                    "Minutes"
                                  ],
                                  "additionalProperties": false
                                }
                              },
                              "required": [
                                "Status",
                                "Time"
                              ],
                              "additionalProperties": false
                            },
                            "StorageClass": {
                              "enum": [
                                "DEEP_ARCHIVE",
                                "GLACIER",
                                "INTELLIGENT_TIERING",
                                "ONEZONE_IA",
                                "OUTPOSTS",
                                "REDUCED_REDUNDANCY",
                                "STANDARD",
                                "STANDARD_IA"
                              ]
                            }
                          },
                          "required": [
                            "Bucket"
                          ],
                          "additionalProperties": false,
                          "dependencies": {
                            "AccessControlTranslation": [
                              "Account"
                            ]
                          }
                        },
                        "Filter": {
                          "type": "object",
                          "properties": {
                            "And": {
                              "type": "object",
                              "properties": {
                                "Prefix": {
                                  "type": "string"
                                },
                                "TagFilters": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "Key": {
                                        "type": "string"
                                      },
                                      "Value": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "Key",
                                      "Value"
                                    ],
                                    "additionalProperties": false
                                  }
                                }
                              },
                              "additionalProperties": false
                            },
                            "Prefix": {
                              "type": "string"
                            },
                            "TagFilter": {
                              "type": "object",
                              "properties": {
                                "Key": {
                                  "type": "string"
                                },
                                "Value": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "Key",
                                "Value"
                              ],
                              "additionalProperties": false
                            }
                          },
                          "additionalProperties": false
                        },
                        "Id": {
                          "type": "string",
                          "maxLength": 255
                        },
                        "Prefix": {
                          "type": "string"
                        },
                        "Priority": {
                          "type": "integer"
                        },
                        "SourceSelectionCriteria": {
                          "type": "object",
                          "properties": {
                            "SseKmsEncryptedObjects": {
                              "type": "object",
                              "properties": {
                                "Status": {
                                  "enum": [
                                    "Disabled",
                                    "Enabled"
                                  ]
                                }
                              },
                              "required": [
                                "Status"
                              ],
                              "additionalProperties": false
                            }
                          },
                          "required": [
                            "SseKmsEncryptedObjects"
                          ],
                          "additionalProperties": false
                        },
                        "Status": {
                          "enum": [
                            "Disabled",
                            "Enabled"
                          ]
                        }
                      },
                      "required": [
                        "Destination",
                        "Status"
                      ],
                      "additionalProperties": false
                    },
                    "minItems": 1,
                    "maxItems": 1000
                  }
                },
                "required": [
                  "Role",
                  "Rules"
                ],
                "additionalProperties": false
              },
              "tags": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "Key": {
                      "type": "string"
                    },
                    "Value": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "Key",
                    "Value"
                  ],
                  "additionalProperties": false
                }
              },
              "versioningConfiguration": {
                "type": "object",
                "properties": {
                  "Status": {
                    "enum": [
                      "Enabled",
                      "Suspended"
                    ]
                  }
                },
                "required": [
                  "Status"
                ],
                "additionalProperties": false
              },
              "websiteConfiguration": {
                "type": "object",
                "properties": {
                  "ErrorDocument": {
                    "type": "string"
                  },
                  "IndexDocument": {
                    "type": "string"
                  },
                  "RedirectAllRequestsTo": {
                    "type": "object",
                    "properties": {
                      "HostName": {
                        "type": "string"
                      },
                      "Protocol": {
                        "enum": [
                          "http",
                          "https"
                        ]
                      }
                    },
                    "required": [
                      "HostName"
                    ],
                    "additionalProperties": false
                  },
                  "RoutingRules": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "RedirectRule": {
                          "type": "object",
                          "properties": {
                            "HostName": {
                              "type": "string"
                            },
                            "HttpRedirectCode": {
                              "type": "string"
                            },
                            "Protocol": {
                              "enum": [
                                "http",
                                "https"
                              ]
                            },
                            "ReplaceKeyPrefixWith": {
                              "type": "string"
                            },
                            "ReplaceKeyWith": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false
                        },
                        "RoutingRuleCondition": {
                          "type": "object",
                          "properties": {
                            "HttpErrorCodeReturnedEquals": {
                              "type": "string"
                            },
                            "KeyPrefixEquals": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "required": [
                        "RedirectRule"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          }
        },
        "stage": {
          "type": "string"
        },
        "stackName": {
          "type": "string",
          "pattern": "^[a-zA-Z][a-zA-Z0-9-]*$",
          "maxLength": 128
        },
        "stackParameters": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "ParameterKey": {
                "type": "string"
              },
              "ParameterValue": {
                "type": "string"
              },
              "UsePreviousValue": {
                "type": "boolean"
              },
              "ResolvedValue": {
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        },
        "stackPolicy": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "Sid": {
                "type": "string"
              },
              "Effect": {
                "enum": [
                  "Allow",
                  "Deny"
                ]
              },
              "Action": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "NotAction": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "Principal": {
                "anyOf": [
                  {
                    "const": "*"
                  },
                  {
                    "type": "object",
                    "properties": {
                      "AWS": {
                        "anyOf": [
                          {
                            "const": "*"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "pattern": "^arn:"
                                },
                                {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::ImportValue": {}
                                      },
                                      "additionalProperties": false,
                                      "required": [
                                        "Fn::ImportValue"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::Join": {
                                          "type": "array",
                                          "minItems": 2,
                                          "maxItems": 2,
                                          "items": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "array"
                                            }
                                          ],
                                          "additionalItems": false
                                        }
                                      },
                                      "required": [
                                        "Fn::Join"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::GetAtt": {
                                          "type": "array",
                                          "minItems": 2,
                                          "maxItems": 2,
                                          "items": {
                                            "type": "string",
                                            "minLength": 1
                                          }
                                        }
                                      },
                                      "required": [
                                        "Fn::GetAtt"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Ref": {
                                          "type": "string",
                                          "minLength": 1
                                        }
                                      },
                                      "required": [
                                        "Ref"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::Sub": {}
                                      },
                                      "required": [
                                        "Fn::Sub"
                                      ],
                                      "additionalProperties": false
                                    }
                                  ]
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "Federated": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "Service": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "CanonicalUser": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    },
                    "additionalProperties": false
                  }
                ]
              },
              "NotPrincipal": {
                "anyOf": [
                  {
                    "const": "*"
                  },
                  {
                    "type": "object",
                    "properties": {
                      "AWS": {
                        "anyOf": [
                          {
                            "const": "*"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string",
                                  "pattern": "^arn:"
                                },
                                {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::ImportValue": {}
                                      },
                                      "additionalProperties": false,
                                      "required": [
                                        "Fn::ImportValue"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::Join": {
                                          "type": "array",
                                          "minItems": 2,
                                          "maxItems": 2,
                                          "items": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "array"
                                            }
                                          ],
                                          "additionalItems": false
                                        }
                                      },
                                      "required": [
                                        "Fn::Join"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::GetAtt": {
                                          "type": "array",
                                          "minItems": 2,
                                          "maxItems": 2,
                                          "items": {
                                            "type": "string",
                                            "minLength": 1
                                          }
                                        }
                                      },
                                      "required": [
                                        "Fn::GetAtt"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Ref": {
                                          "type": "string",
                                          "minLength": 1
                                        }
                                      },
                                      "required": [
                                        "Ref"
                                      ],
                                      "additionalProperties": false
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "Fn::Sub": {}
                                      },
                                      "required": [
                                        "Fn::Sub"
                                      ],
                                      "additionalProperties": false
                                    }
                                  ]
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "Federated": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "Service": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "CanonicalUser": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    },
                    "additionalProperties": false
                  }
                ]
              },
              "Resource": {
                "anyOf": [
                  {
                    "const": "*"
                  },
                  {
                    "anyOf": [
                      {
                        "type": "string",
                        "pattern": "^arn:"
                      },
                      {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "Fn::ImportValue": {}
                            },
                            "additionalProperties": false,
                            "required": [
                              "Fn::ImportValue"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Join": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array"
                                  }
                                ],
                                "additionalItems": false
                              }
                            },
                            "required": [
                              "Fn::Join"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::GetAtt": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              }
                            },
                            "required": [
                              "Fn::GetAtt"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Ref": {
                                "type": "string",
                                "minLength": 1
                              }
                            },
                            "required": [
                              "Ref"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Sub": {}
                            },
                            "required": [
                              "Fn::Sub"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "const": "*"
                        },
                        {
                          "anyOf": [
                            {
                              "type": "string",
                              "pattern": "^arn:"
                            },
                            {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::ImportValue": {}
                                  },
                                  "additionalProperties": false,
                                  "required": [
                                    "Fn::ImportValue"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Join": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "array"
                                        }
                                      ],
                                      "additionalItems": false
                                    }
                                  },
                                  "required": [
                                    "Fn::Join"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::GetAtt": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": {
                                        "type": "string",
                                        "minLength": 1
                                      }
                                    }
                                  },
                                  "required": [
                                    "Fn::GetAtt"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Ref": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  },
                                  "required": [
                                    "Ref"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Sub": {}
                                  },
                                  "required": [
                                    "Fn::Sub"
                                  ],
                                  "additionalProperties": false
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              "NotResource": {
                "anyOf": [
                  {
                    "const": "*"
                  },
                  {
                    "anyOf": [
                      {
                        "type": "string",
                        "pattern": "^arn:"
                      },
                      {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "Fn::ImportValue": {}
                            },
                            "additionalProperties": false,
                            "required": [
                              "Fn::ImportValue"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Join": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array"
                                  }
                                ],
                                "additionalItems": false
                              }
                            },
                            "required": [
                              "Fn::Join"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::GetAtt": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              }
                            },
                            "required": [
                              "Fn::GetAtt"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Ref": {
                                "type": "string",
                                "minLength": 1
                              }
                            },
                            "required": [
                              "Ref"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Sub": {}
                            },
                            "required": [
                              "Fn::Sub"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "const": "*"
                        },
                        {
                          "anyOf": [
                            {
                              "type": "string",
                              "pattern": "^arn:"
                            },
                            {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::ImportValue": {}
                                  },
                                  "additionalProperties": false,
                                  "required": [
                                    "Fn::ImportValue"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Join": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "array"
                                        }
                                      ],
                                      "additionalItems": false
                                    }
                                  },
                                  "required": [
                                    "Fn::Join"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::GetAtt": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": {
                                        "type": "string",
                                        "minLength": 1
                                      }
                                    }
                                  },
                                  "required": [
                                    "Fn::GetAtt"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Ref": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  },
                                  "required": [
                                    "Ref"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Sub": {}
                                  },
                                  "required": [
                                    "Fn::Sub"
                                  ],
                                  "additionalProperties": false
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              "Condition": {
                "type": "object"
              }
            },
            "additionalProperties": false,
            "allOf": [
              {
                "required": [
                  "Effect"
                ]
              },
              {
                "oneOf": [
                  {
                    "required": [
                      "Action"
                    ]
                  },
                  {
                    "required": [
                      "NotAction"
                    ]
                  }
                ]
              },
              {
                "oneOf": [
                  {
                    "required": [
                      "Resource"
                    ]
                  },
                  {
                    "required": [
                      "NotResource"
                    ]
                  }
                ]
              }
            ]
          }
        },
        "stackTags": {
          "type": "object",
          "patternProperties": {
            "^(?!aws:)[\\w./=+:-_\\x20]{1,128}$": {
              "type": "string",
              "maxLength": 256
            }
          },
          "additionalProperties": false
        },
        "tags": {
          "type": "object",
          "patternProperties": {
            "^(?!aws:)[\\w./=+:-_\\x20]{1,128}$": {
              "type": "string",
              "maxLength": 256
            }
          },
          "additionalProperties": false
        },
        "timeout": {
          "type": "integer",
          "minimum": 1,
          "maximum": 900
        },
        "tracing": {
          "type": "object",
          "properties": {
            "apiGateway": {
              "type": "boolean"
            },
            "lambda": {
              "anyOf": [
                {
                  "enum": [
                    "Active",
                    "PassThrough"
                  ]
                },
                {
                  "type": "boolean"
                }
              ]
            }
          },
          "additionalProperties": false
        },
        "usagePlan": {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "quota": {
                  "type": "object",
                  "properties": {
                    "limit": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "offset": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "period": {
                      "enum": [
                        "DAY",
                        "WEEK",
                        "MONTH"
                      ]
                    }
                  },
                  "additionalProperties": false
                },
                "throttle": {
                  "type": "object",
                  "properties": {
                    "burstLimit": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "rateLimit": {
                      "type": "integer",
                      "minimum": 0
                    }
                  },
                  "additionalProperties": false
                }
              },
              "additionalProperties": false
            },
            {
              "type": "array",
              "items": {
                "type": "object",
                "additionalProperties": {
                  "type": "object",
                  "properties": {
                    "quota": {
                      "type": "object",
                      "properties": {
                        "limit": {
                          "type": "integer",
                          "minimum": 0
                        },
                        "offset": {
                          "type": "integer",
                          "minimum": 0
                        },
                        "period": {
                          "enum": [
                            "DAY",
                            "WEEK",
                            "MONTH"
                          ]
                        }
                      },
                      "additionalProperties": false
                    },
                    "throttle": {
                      "type": "object",
                      "properties": {
                        "burstLimit": {
                          "type": "integer",
                          "minimum": 0
                        },
                        "rateLimit": {
                          "type": "integer",
                          "minimum": 0
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "additionalProperties": false
                },
                "maxProperties": 1
              }
            }
          ]
        },
        "vpc": {
          "type": "object",
          "properties": {
            "securityGroupIds": {
              "type": "array",
              "items": {
                "anyOf": [
                  {
                    "type": "string",
                    "minLength": 1
                  },
                  {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "Fn::ImportValue": {}
                        },
                        "additionalProperties": false,
                        "required": [
                          "Fn::ImportValue"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::Join": {
                            "type": "array",
                            "minItems": 2,
                            "maxItems": 2,
                            "items": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "array"
                              }
                            ],
                            "additionalItems": false
                          }
                        },
                        "required": [
                          "Fn::Join"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::GetAtt": {
                            "type": "array",
                            "minItems": 2,
                            "maxItems": 2,
                            "items": {
                              "type": "string",
                              "minLength": 1
                            }
                          }
                        },
                        "required": [
                          "Fn::GetAtt"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Ref": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        "required": [
                          "Ref"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::Sub": {}
                        },
                        "required": [
                          "Fn::Sub"
                        ],
                        "additionalProperties": false
                      }
                    ]
                  }
                ]
              },
              "maxItems": 5
            },
            "subnetIds": {
              "type": "array",
              "items": {
                "anyOf": [
                  {
                    "type": "string",
                    "minLength": 1
                  },
                  {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "Fn::ImportValue": {}
                        },
                        "additionalProperties": false,
                        "required": [
                          "Fn::ImportValue"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::Join": {
                            "type": "array",
                            "minItems": 2,
                            "maxItems": 2,
                            "items": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "array"
                              }
                            ],
                            "additionalItems": false
                          }
                        },
                        "required": [
                          "Fn::Join"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::GetAtt": {
                            "type": "array",
                            "minItems": 2,
                            "maxItems": 2,
                            "items": {
                              "type": "string",
                              "minLength": 1
                            }
                          }
                        },
                        "required": [
                          "Fn::GetAtt"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Ref": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        "required": [
                          "Ref"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::Sub": {}
                        },
                        "required": [
                          "Fn::Sub"
                        ],
                        "additionalProperties": false
                      }
                    ]
                  }
                ]
              },
              "maxItems": 16
            }
          }
        },
        "vpcEndpointIds": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "Fn::ImportValue": {}
                    },
                    "additionalProperties": false,
                    "required": [
                      "Fn::ImportValue"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Fn::Join": {
                        "type": "array",
                        "minItems": 2,
                        "maxItems": 2,
                        "items": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array"
                          }
                        ],
                        "additionalItems": false
                      }
                    },
                    "required": [
                      "Fn::Join"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Fn::GetAtt": {
                        "type": "array",
                        "minItems": 2,
                        "maxItems": 2,
                        "items": {
                          "type": "string",
                          "minLength": 1
                        }
                      }
                    },
                    "required": [
                      "Fn::GetAtt"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Ref": {
                        "type": "string",
                        "minLength": 1
                      }
                    },
                    "required": [
                      "Ref"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Fn::Sub": {}
                    },
                    "required": [
                      "Fn::Sub"
                    ],
                    "additionalProperties": false
                  }
                ]
              }
            ]
          }
        },
        "versionFunctions": {
          "type": "boolean"
        },
        "websocketsApiName": {
          "type": "string"
        },
        "websocketsApiRouteSelectionExpression": {
          "type": "string"
        },
        "variableSyntax": {
          "type": "string"
        }
      },
      "required": [
        "name"
      ],
      "additionalProperties": false
    },
    "service": {
      "anyOf": [
        {
          "type": "string",
          "pattern": "^[a-zA-Z][0-9a-zA-Z-]+$"
        },
        {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "pattern": "^[a-zA-Z][0-9a-zA-Z-]+$"
            },
            "awsKmsKeyArn": {
              "anyOf": [
                {
                  "type": "object"
                },
                {
                  "type": "string",
                  "pattern": "^arn:aws[a-z-]*:kms"
                }
              ]
            }
          },
          "additionalProperties": false,
          "required": [
            "name"
          ]
        }
      ]
    },
    "useDotenv": {
      "const": true
    },
    "resources": {
      "properties": {
        "AWSTemplateFormatVersion": {
          "type": "string"
        },
        "Conditions": {
          "type": "object"
        },
        "Description": {
          "type": "string"
        },
        "Mappings": {
          "type": "object"
        },
        "Metadata": {
          "type": "object"
        },
        "Outputs": {
          "type": "object"
        },
        "Parameters": {
          "type": "object"
        },
        "Resources": {
          "type": "object",
          "properties": {
            "Fn::Transform": {
              "type": "object",
              "properties": {
                "Name": {
                  "type": "string"
                },
                "Parameters": {
                  "type": "object"
                }
              },
              "required": [
                "Name"
              ],
              "additionalProperties": false
            }
          },
          "patternProperties": {
            "^[a-zA-Z0-9]{1,255}$": {
              "type": "object",
              "properties": {
                "Type": {
                  "type": "string"
                },
                "Properties": {
                  "type": "object"
                },
                "CreationPolicy": {
                  "type": "object"
                },
                "DeletionPolicy": {
                  "type": "string"
                },
                "DependsOn": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "Metadata": {
                  "type": "object"
                },
                "UpdatePolicy": {
                  "type": "object"
                },
                "UpdateReplacePolicy": {
                  "type": "string"
                },
                "Condition": {
                  "type": "string"
                }
              },
              "required": [
                "Type"
              ],
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        },
        "Transform": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "extensions": {
          "type": "object",
          "patternProperties": {
            "^[a-zA-Z0-9]{1,255}$": {
              "type": "object",
              "properties": {
                "Properties": {
                  "type": "object"
                },
                "CreationPolicy": {
                  "type": "object"
                },
                "DeletionPolicy": {
                  "type": "string"
                },
                "DependsOn": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "Metadata": {
                  "type": "object"
                },
                "UpdatePolicy": {
                  "type": "object"
                },
                "UpdateReplacePolicy": {
                  "type": "string"
                },
                "Condition": {
                  "type": "string"
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "layers": {
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "allowedAccounts": {
            "type": "array",
            "items": {
              "type": "string",
              "pattern": "^(\\d{12}|\\*|arn:(aws[a-zA-Z-]*):iam::\\d{12}:root)$"
            }
          },
          "compatibleRuntimes": {
            "type": "array",
            "items": {
              "enum": [
                "dotnetcore2.1",
                "dotnetcore3.1",
                "go1.x",
                "java11",
                "java8",
                "java8.al2",
                "nodejs10.x",
                "nodejs12.x",
                "provided",
                "provided.al2",
                "python2.7",
                "python3.6",
                "python3.7",
                "python3.8",
                "ruby2.5",
                "ruby2.7"
              ]
            },
            "maxItems": 5
          },
          "description": {
            "type": "string",
            "maxLength": 256
          },
          "licenseInfo": {
            "type": "string",
            "maxLength": 512
          },
          "name": {
            "type": "string",
            "minLength": 1,
            "maxLength": 140,
            "pattern": "^((arn:[a-zA-Z0-9-]+:lambda:[a-zA-Z0-9-]+:\\d{12}:layer:[a-zA-Z0-9-_]+)|[a-zA-Z0-9-_]+)$"
          },
          "package": {
            "type": "object",
            "properties": {
              "artifact": {
                "type": "string"
              },
              "exclude": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "include": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            },
            "additionalProperties": false
          },
          "path": {
            "type": "string"
          },
          "retain": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      }
    },
    "org": {
      "type": "string",
      "pattern": "^[a-z0-9]{5,39}$"
    },
    "app": {
      "type": "string",
      "pattern": "^[a-z0-9][a-z0-9-]{1,37}[a-z0-9]$"
    },
    "outputs": {
      "type": "object",
      "additionalProperties": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "number"
          },
          {
            "type": "boolean"
          },
          {
            "type": "array"
          },
          {
            "type": "object"
          }
        ]
      }
    }
  },
  "additionalProperties": false,
  "required": [
    "provider",
    "service"
  ],
  "definitions": {
    "awsKmsArn": {
      "anyOf": [
        {
          "type": "object"
        },
        {
          "type": "string",
          "pattern": "^arn:aws[a-z-]*:kms"
        }
      ]
    },
    "errorCode": {
      "type": "string",
      "pattern": "^[A-Z0-9_]+$"
    },
    "functionName": {
      "type": "string",
      "pattern": "^[a-zA-Z0-9-_]+$"
    },
    "serviceName": {
      "type": "string",
      "pattern": "^[a-zA-Z][0-9a-zA-Z-]+$"
    },
    "awsAlbListenerArn": {
      "type": "string",
      "pattern": "^arn:aws[\\w-]*:elasticloadbalancing:.+:listener\\/app\\/[\\w-]+\\/([\\w-]+)\\/([\\w-]+)$"
    },
    "awsAlexaEventToken": {
      "type": "string",
      "minLength": 0,
      "maxLength": 256,
      "pattern": "^[a-zA-Z0-9._\\-]+$"
    },
    "awsApiGatewayAbbreviatedArn": {
      "type": "string",
      "pattern": "^execute-api:/"
    },
    "awsApiGatewayApiKeys": {
      "type": "array",
      "items": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "value": {
                "type": "string"
              },
              "description": {
                "type": "string"
              },
              "customerId": {
                "type": "string"
              }
            },
            "anyOf": [
              {
                "required": [
                  "name"
                ]
              },
              {
                "required": [
                  "value"
                ]
              }
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "maxProperties": 1,
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        ]
      }
    },
    "awsArn": {
      "anyOf": [
        {
          "type": "string",
          "pattern": "^arn:"
        },
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "Fn::ImportValue": {}
              },
              "additionalProperties": false,
              "required": [
                "Fn::ImportValue"
              ]
            },
            {
              "type": "object",
              "properties": {
                "Fn::Join": {
                  "type": "array",
                  "minItems": 2,
                  "maxItems": 2,
                  "items": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "array"
                    }
                  ],
                  "additionalItems": false
                }
              },
              "required": [
                "Fn::Join"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "Fn::GetAtt": {
                  "type": "array",
                  "minItems": 2,
                  "maxItems": 2,
                  "items": {
                    "type": "string",
                    "minLength": 1
                  }
                }
              },
              "required": [
                "Fn::GetAtt"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "Ref": {
                  "type": "string",
                  "minLength": 1
                }
              },
              "required": [
                "Ref"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "Fn::Sub": {}
              },
              "required": [
                "Fn::Sub"
              ],
              "additionalProperties": false
            }
          ]
        }
      ]
    },
    "awsArnString": {
      "type": "string",
      "pattern": "^arn:"
    },
    "awsCfFunction": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "Fn::ImportValue": {}
          },
          "additionalProperties": false,
          "required": [
            "Fn::ImportValue"
          ]
        },
        {
          "type": "object",
          "properties": {
            "Fn::Join": {
              "type": "array",
              "minItems": 2,
              "maxItems": 2,
              "items": [
                {
                  "type": "string"
                },
                {
                  "type": "array"
                }
              ],
              "additionalItems": false
            }
          },
          "required": [
            "Fn::Join"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "Fn::GetAtt": {
              "type": "array",
              "minItems": 2,
              "maxItems": 2,
              "items": {
                "type": "string",
                "minLength": 1
              }
            }
          },
          "required": [
            "Fn::GetAtt"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "Ref": {
              "type": "string",
              "minLength": 1
            }
          },
          "required": [
            "Ref"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "Fn::Sub": {}
          },
          "required": [
            "Fn::Sub"
          ],
          "additionalProperties": false
        }
      ]
    },
    "awsCfGetAtt": {
      "type": "object",
      "properties": {
        "Fn::GetAtt": {
          "type": "array",
          "minItems": 2,
          "maxItems": 2,
          "items": {
            "type": "string",
            "minLength": 1
          }
        }
      },
      "required": [
        "Fn::GetAtt"
      ],
      "additionalProperties": false
    },
    "awsCfImport": {
      "type": "object",
      "properties": {
        "Fn::ImportValue": {}
      },
      "additionalProperties": false,
      "required": [
        "Fn::ImportValue"
      ]
    },
    "awsCfImportLocallyResolvable": {
      "type": "object",
      "properties": {
        "Fn::ImportValue": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "required": [
        "Fn::ImportValue"
      ]
    },
    "awsCfInstruction": {
      "anyOf": [
        {
          "type": "string",
          "minLength": 1
        },
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "Fn::ImportValue": {}
              },
              "additionalProperties": false,
              "required": [
                "Fn::ImportValue"
              ]
            },
            {
              "type": "object",
              "properties": {
                "Fn::Join": {
                  "type": "array",
                  "minItems": 2,
                  "maxItems": 2,
                  "items": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "array"
                    }
                  ],
                  "additionalItems": false
                }
              },
              "required": [
                "Fn::Join"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "Fn::GetAtt": {
                  "type": "array",
                  "minItems": 2,
                  "maxItems": 2,
                  "items": {
                    "type": "string",
                    "minLength": 1
                  }
                }
              },
              "required": [
                "Fn::GetAtt"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "Ref": {
                  "type": "string",
                  "minLength": 1
                }
              },
              "required": [
                "Ref"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "Fn::Sub": {}
              },
              "required": [
                "Fn::Sub"
              ],
              "additionalProperties": false
            }
          ]
        }
      ]
    },
    "awsCfJoin": {
      "type": "object",
      "properties": {
        "Fn::Join": {
          "type": "array",
          "minItems": 2,
          "maxItems": 2,
          "items": [
            {
              "type": "string"
            },
            {
              "type": "array"
            }
          ],
          "additionalItems": false
        }
      },
      "required": [
        "Fn::Join"
      ],
      "additionalProperties": false
    },
    "awsCfRef": {
      "type": "object",
      "properties": {
        "Ref": {
          "type": "string",
          "minLength": 1
        }
      },
      "required": [
        "Ref"
      ],
      "additionalProperties": false
    },
    "awsCfSub": {
      "type": "object",
      "properties": {
        "Fn::Sub": {}
      },
      "required": [
        "Fn::Sub"
      ],
      "additionalProperties": false
    },
    "awsIamPolicyAction": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "awsIamPolicyPrincipal": {
      "anyOf": [
        {
          "const": "*"
        },
        {
          "type": "object",
          "properties": {
            "AWS": {
              "anyOf": [
                {
                  "const": "*"
                },
                {
                  "type": "array",
                  "items": {
                    "anyOf": [
                      {
                        "type": "string",
                        "pattern": "^arn:"
                      },
                      {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "Fn::ImportValue": {}
                            },
                            "additionalProperties": false,
                            "required": [
                              "Fn::ImportValue"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Join": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array"
                                  }
                                ],
                                "additionalItems": false
                              }
                            },
                            "required": [
                              "Fn::Join"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::GetAtt": {
                                "type": "array",
                                "minItems": 2,
                                "maxItems": 2,
                                "items": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              }
                            },
                            "required": [
                              "Fn::GetAtt"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Ref": {
                                "type": "string",
                                "minLength": 1
                              }
                            },
                            "required": [
                              "Ref"
                            ],
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "Fn::Sub": {}
                            },
                            "required": [
                              "Fn::Sub"
                            ],
                            "additionalProperties": false
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            },
            "Federated": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "Service": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "CanonicalUser": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "awsIamPolicyResource": {
      "anyOf": [
        {
          "const": "*"
        },
        {
          "anyOf": [
            {
              "type": "string",
              "pattern": "^arn:"
            },
            {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "Fn::ImportValue": {}
                  },
                  "additionalProperties": false,
                  "required": [
                    "Fn::ImportValue"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "Fn::Join": {
                      "type": "array",
                      "minItems": 2,
                      "maxItems": 2,
                      "items": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "array"
                        }
                      ],
                      "additionalItems": false
                    }
                  },
                  "required": [
                    "Fn::Join"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "Fn::GetAtt": {
                      "type": "array",
                      "minItems": 2,
                      "maxItems": 2,
                      "items": {
                        "type": "string",
                        "minLength": 1
                      }
                    }
                  },
                  "required": [
                    "Fn::GetAtt"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "Ref": {
                      "type": "string",
                      "minLength": 1
                    }
                  },
                  "required": [
                    "Ref"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "Fn::Sub": {}
                  },
                  "required": [
                    "Fn::Sub"
                  ],
                  "additionalProperties": false
                }
              ]
            }
          ]
        },
        {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "const": "*"
              },
              {
                "anyOf": [
                  {
                    "type": "string",
                    "pattern": "^arn:"
                  },
                  {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "Fn::ImportValue": {}
                        },
                        "additionalProperties": false,
                        "required": [
                          "Fn::ImportValue"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::Join": {
                            "type": "array",
                            "minItems": 2,
                            "maxItems": 2,
                            "items": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "array"
                              }
                            ],
                            "additionalItems": false
                          }
                        },
                        "required": [
                          "Fn::Join"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::GetAtt": {
                            "type": "array",
                            "minItems": 2,
                            "maxItems": 2,
                            "items": {
                              "type": "string",
                              "minLength": 1
                            }
                          }
                        },
                        "required": [
                          "Fn::GetAtt"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Ref": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        "required": [
                          "Ref"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::Sub": {}
                        },
                        "required": [
                          "Fn::Sub"
                        ],
                        "additionalProperties": false
                      }
                    ]
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "awsIamPolicyStatements": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "Sid": {
            "type": "string"
          },
          "Effect": {
            "enum": [
              "Allow",
              "Deny"
            ]
          },
          "Action": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "NotAction": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "Principal": {
            "anyOf": [
              {
                "const": "*"
              },
              {
                "type": "object",
                "properties": {
                  "AWS": {
                    "anyOf": [
                      {
                        "const": "*"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string",
                              "pattern": "^arn:"
                            },
                            {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::ImportValue": {}
                                  },
                                  "additionalProperties": false,
                                  "required": [
                                    "Fn::ImportValue"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Join": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "array"
                                        }
                                      ],
                                      "additionalItems": false
                                    }
                                  },
                                  "required": [
                                    "Fn::Join"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::GetAtt": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": {
                                        "type": "string",
                                        "minLength": 1
                                      }
                                    }
                                  },
                                  "required": [
                                    "Fn::GetAtt"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Ref": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  },
                                  "required": [
                                    "Ref"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Sub": {}
                                  },
                                  "required": [
                                    "Fn::Sub"
                                  ],
                                  "additionalProperties": false
                                }
                              ]
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "Federated": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "Service": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "CanonicalUser": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false
              }
            ]
          },
          "NotPrincipal": {
            "anyOf": [
              {
                "const": "*"
              },
              {
                "type": "object",
                "properties": {
                  "AWS": {
                    "anyOf": [
                      {
                        "const": "*"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string",
                              "pattern": "^arn:"
                            },
                            {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::ImportValue": {}
                                  },
                                  "additionalProperties": false,
                                  "required": [
                                    "Fn::ImportValue"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Join": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "array"
                                        }
                                      ],
                                      "additionalItems": false
                                    }
                                  },
                                  "required": [
                                    "Fn::Join"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::GetAtt": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": {
                                        "type": "string",
                                        "minLength": 1
                                      }
                                    }
                                  },
                                  "required": [
                                    "Fn::GetAtt"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Ref": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  },
                                  "required": [
                                    "Ref"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Sub": {}
                                  },
                                  "required": [
                                    "Fn::Sub"
                                  ],
                                  "additionalProperties": false
                                }
                              ]
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "Federated": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "Service": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "CanonicalUser": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false
              }
            ]
          },
          "Resource": {
            "anyOf": [
              {
                "const": "*"
              },
              {
                "anyOf": [
                  {
                    "type": "string",
                    "pattern": "^arn:"
                  },
                  {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "Fn::ImportValue": {}
                        },
                        "additionalProperties": false,
                        "required": [
                          "Fn::ImportValue"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::Join": {
                            "type": "array",
                            "minItems": 2,
                            "maxItems": 2,
                            "items": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "array"
                              }
                            ],
                            "additionalItems": false
                          }
                        },
                        "required": [
                          "Fn::Join"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::GetAtt": {
                            "type": "array",
                            "minItems": 2,
                            "maxItems": 2,
                            "items": {
                              "type": "string",
                              "minLength": 1
                            }
                          }
                        },
                        "required": [
                          "Fn::GetAtt"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Ref": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        "required": [
                          "Ref"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::Sub": {}
                        },
                        "required": [
                          "Fn::Sub"
                        ],
                        "additionalProperties": false
                      }
                    ]
                  }
                ]
              },
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "const": "*"
                    },
                    {
                      "anyOf": [
                        {
                          "type": "string",
                          "pattern": "^arn:"
                        },
                        {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "Fn::ImportValue": {}
                              },
                              "additionalProperties": false,
                              "required": [
                                "Fn::ImportValue"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Fn::Join": {
                                  "type": "array",
                                  "minItems": 2,
                                  "maxItems": 2,
                                  "items": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array"
                                    }
                                  ],
                                  "additionalItems": false
                                }
                              },
                              "required": [
                                "Fn::Join"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Fn::GetAtt": {
                                  "type": "array",
                                  "minItems": 2,
                                  "maxItems": 2,
                                  "items": {
                                    "type": "string",
                                    "minLength": 1
                                  }
                                }
                              },
                              "required": [
                                "Fn::GetAtt"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Ref": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              },
                              "required": [
                                "Ref"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Fn::Sub": {}
                              },
                              "required": [
                                "Fn::Sub"
                              ],
                              "additionalProperties": false
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          },
          "NotResource": {
            "anyOf": [
              {
                "const": "*"
              },
              {
                "anyOf": [
                  {
                    "type": "string",
                    "pattern": "^arn:"
                  },
                  {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "Fn::ImportValue": {}
                        },
                        "additionalProperties": false,
                        "required": [
                          "Fn::ImportValue"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::Join": {
                            "type": "array",
                            "minItems": 2,
                            "maxItems": 2,
                            "items": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "array"
                              }
                            ],
                            "additionalItems": false
                          }
                        },
                        "required": [
                          "Fn::Join"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::GetAtt": {
                            "type": "array",
                            "minItems": 2,
                            "maxItems": 2,
                            "items": {
                              "type": "string",
                              "minLength": 1
                            }
                          }
                        },
                        "required": [
                          "Fn::GetAtt"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Ref": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        "required": [
                          "Ref"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::Sub": {}
                        },
                        "required": [
                          "Fn::Sub"
                        ],
                        "additionalProperties": false
                      }
                    ]
                  }
                ]
              },
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "const": "*"
                    },
                    {
                      "anyOf": [
                        {
                          "type": "string",
                          "pattern": "^arn:"
                        },
                        {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "Fn::ImportValue": {}
                              },
                              "additionalProperties": false,
                              "required": [
                                "Fn::ImportValue"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Fn::Join": {
                                  "type": "array",
                                  "minItems": 2,
                                  "maxItems": 2,
                                  "items": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array"
                                    }
                                  ],
                                  "additionalItems": false
                                }
                              },
                              "required": [
                                "Fn::Join"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Fn::GetAtt": {
                                  "type": "array",
                                  "minItems": 2,
                                  "maxItems": 2,
                                  "items": {
                                    "type": "string",
                                    "minLength": 1
                                  }
                                }
                              },
                              "required": [
                                "Fn::GetAtt"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Ref": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              },
                              "required": [
                                "Ref"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Fn::Sub": {}
                              },
                              "required": [
                                "Fn::Sub"
                              ],
                              "additionalProperties": false
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          },
          "Condition": {
            "type": "object"
          }
        },
        "additionalProperties": false,
        "allOf": [
          {
            "required": [
              "Effect"
            ]
          },
          {
            "oneOf": [
              {
                "required": [
                  "Action"
                ]
              },
              {
                "required": [
                  "NotAction"
                ]
              }
            ]
          },
          {
            "oneOf": [
              {
                "required": [
                  "Resource"
                ]
              },
              {
                "required": [
                  "NotResource"
                ]
              }
            ]
          }
        ]
      }
    },
    "awsLambdaEnvironment": {
      "type": "object",
      "patternProperties": {
        "^[A-Za-z_][a-zA-Z0-9_]*$": {
          "anyOf": [
            {
              "const": ""
            },
            {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1
                },
                {
                  "anyOf": [
                    {
                      "type": "object",
                      "properties": {
                        "Fn::ImportValue": {}
                      },
                      "additionalProperties": false,
                      "required": [
                        "Fn::ImportValue"
                      ]
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Fn::Join": {
                          "type": "array",
                          "minItems": 2,
                          "maxItems": 2,
                          "items": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array"
                            }
                          ],
                          "additionalItems": false
                        }
                      },
                      "required": [
                        "Fn::Join"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Fn::GetAtt": {
                          "type": "array",
                          "minItems": 2,
                          "maxItems": 2,
                          "items": {
                            "type": "string",
                            "minLength": 1
                          }
                        }
                      },
                      "required": [
                        "Fn::GetAtt"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Ref": {
                          "type": "string",
                          "minLength": 1
                        }
                      },
                      "required": [
                        "Ref"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "properties": {
                        "Fn::Sub": {}
                      },
                      "required": [
                        "Fn::Sub"
                      ],
                      "additionalProperties": false
                    }
                  ]
                }
              ]
            }
          ]
        }
      },
      "additionalProperties": false
    },
    "awsLambdaLayers": {
      "type": "array",
      "items": {
        "anyOf": [
          {
            "type": "string",
            "pattern": "^arn:"
          },
          {
            "anyOf": [
              {
                "type": "object",
                "properties": {
                  "Fn::ImportValue": {}
                },
                "additionalProperties": false,
                "required": [
                  "Fn::ImportValue"
                ]
              },
              {
                "type": "object",
                "properties": {
                  "Fn::Join": {
                    "type": "array",
                    "minItems": 2,
                    "maxItems": 2,
                    "items": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array"
                      }
                    ],
                    "additionalItems": false
                  }
                },
                "required": [
                  "Fn::Join"
                ],
                "additionalProperties": false
              },
              {
                "type": "object",
                "properties": {
                  "Fn::GetAtt": {
                    "type": "array",
                    "minItems": 2,
                    "maxItems": 2,
                    "items": {
                      "type": "string",
                      "minLength": 1
                    }
                  }
                },
                "required": [
                  "Fn::GetAtt"
                ],
                "additionalProperties": false
              },
              {
                "type": "object",
                "properties": {
                  "Ref": {
                    "type": "string",
                    "minLength": 1
                  }
                },
                "required": [
                  "Ref"
                ],
                "additionalProperties": false
              },
              {
                "type": "object",
                "properties": {
                  "Fn::Sub": {}
                },
                "required": [
                  "Fn::Sub"
                ],
                "additionalProperties": false
              }
            ]
          }
        ]
      }
    },
    "awsLambdaMemorySize": {
      "type": "integer",
      "minimum": 128,
      "maximum": 10240
    },
    "awsLambdaRole": {
      "anyOf": [
        {
          "type": "string",
          "minLength": 1
        },
        {
          "type": "object",
          "properties": {
            "Fn::ImportValue": {}
          },
          "additionalProperties": false,
          "required": [
            "Fn::ImportValue"
          ]
        },
        {
          "type": "object",
          "properties": {
            "Fn::GetAtt": {
              "type": "array",
              "minItems": 2,
              "maxItems": 2,
              "items": {
                "type": "string",
                "minLength": 1
              }
            }
          },
          "required": [
            "Fn::GetAtt"
          ],
          "additionalProperties": false
        }
      ]
    },
    "awsLambdaRuntime": {
      "enum": [
        "dotnetcore2.1",
        "dotnetcore3.1",
        "go1.x",
        "java11",
        "java8",
        "java8.al2",
        "nodejs10.x",
        "nodejs12.x",
        "provided",
        "provided.al2",
        "python2.7",
        "python3.6",
        "python3.7",
        "python3.8",
        "ruby2.5",
        "ruby2.7"
      ]
    },
    "awsLambdaTimeout": {
      "type": "integer",
      "minimum": 1,
      "maximum": 900
    },
    "awsLambdaTracing": {
      "anyOf": [
        {
          "enum": [
            "Active",
            "PassThrough"
          ]
        },
        {
          "type": "boolean"
        }
      ]
    },
    "awsLambdaVersioning": {
      "type": "boolean"
    },
    "awsLambdaVpcConfig": {
      "type": "object",
      "properties": {
        "securityGroupIds": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "Fn::ImportValue": {}
                    },
                    "additionalProperties": false,
                    "required": [
                      "Fn::ImportValue"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Fn::Join": {
                        "type": "array",
                        "minItems": 2,
                        "maxItems": 2,
                        "items": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array"
                          }
                        ],
                        "additionalItems": false
                      }
                    },
                    "required": [
                      "Fn::Join"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Fn::GetAtt": {
                        "type": "array",
                        "minItems": 2,
                        "maxItems": 2,
                        "items": {
                          "type": "string",
                          "minLength": 1
                        }
                      }
                    },
                    "required": [
                      "Fn::GetAtt"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Ref": {
                        "type": "string",
                        "minLength": 1
                      }
                    },
                    "required": [
                      "Ref"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Fn::Sub": {}
                    },
                    "required": [
                      "Fn::Sub"
                    ],
                    "additionalProperties": false
                  }
                ]
              }
            ]
          },
          "maxItems": 5
        },
        "subnetIds": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "Fn::ImportValue": {}
                    },
                    "additionalProperties": false,
                    "required": [
                      "Fn::ImportValue"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Fn::Join": {
                        "type": "array",
                        "minItems": 2,
                        "maxItems": 2,
                        "items": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array"
                          }
                        ],
                        "additionalItems": false
                      }
                    },
                    "required": [
                      "Fn::Join"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Fn::GetAtt": {
                        "type": "array",
                        "minItems": 2,
                        "maxItems": 2,
                        "items": {
                          "type": "string",
                          "minLength": 1
                        }
                      }
                    },
                    "required": [
                      "Fn::GetAtt"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Ref": {
                        "type": "string",
                        "minLength": 1
                      }
                    },
                    "required": [
                      "Ref"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Fn::Sub": {}
                    },
                    "required": [
                      "Fn::Sub"
                    ],
                    "additionalProperties": false
                  }
                ]
              }
            ]
          },
          "maxItems": 16
        }
      }
    },
    "awsLogGroupName": {
      "type": "string",
      "pattern": "^[/#A-Za-z0-9-_.]+$"
    },
    "awsResourceCondition": {
      "type": "string"
    },
    "awsResourceDependsOn": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "awsResourcePolicyResource": {
      "anyOf": [
        {
          "const": "*"
        },
        {
          "anyOf": [
            {
              "type": "string",
              "pattern": "^arn:"
            },
            {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "Fn::ImportValue": {}
                  },
                  "additionalProperties": false,
                  "required": [
                    "Fn::ImportValue"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "Fn::Join": {
                      "type": "array",
                      "minItems": 2,
                      "maxItems": 2,
                      "items": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "array"
                        }
                      ],
                      "additionalItems": false
                    }
                  },
                  "required": [
                    "Fn::Join"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "Fn::GetAtt": {
                      "type": "array",
                      "minItems": 2,
                      "maxItems": 2,
                      "items": {
                        "type": "string",
                        "minLength": 1
                      }
                    }
                  },
                  "required": [
                    "Fn::GetAtt"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "Ref": {
                      "type": "string",
                      "minLength": 1
                    }
                  },
                  "required": [
                    "Ref"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "Fn::Sub": {}
                  },
                  "required": [
                    "Fn::Sub"
                  ],
                  "additionalProperties": false
                }
              ]
            }
          ]
        },
        {
          "type": "string",
          "pattern": "^execute-api:/"
        },
        {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "const": "*"
              },
              {
                "anyOf": [
                  {
                    "type": "string",
                    "pattern": "^arn:"
                  },
                  {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "Fn::ImportValue": {}
                        },
                        "additionalProperties": false,
                        "required": [
                          "Fn::ImportValue"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::Join": {
                            "type": "array",
                            "minItems": 2,
                            "maxItems": 2,
                            "items": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "array"
                              }
                            ],
                            "additionalItems": false
                          }
                        },
                        "required": [
                          "Fn::Join"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::GetAtt": {
                            "type": "array",
                            "minItems": 2,
                            "maxItems": 2,
                            "items": {
                              "type": "string",
                              "minLength": 1
                            }
                          }
                        },
                        "required": [
                          "Fn::GetAtt"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Ref": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        "required": [
                          "Ref"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::Sub": {}
                        },
                        "required": [
                          "Fn::Sub"
                        ],
                        "additionalProperties": false
                      }
                    ]
                  }
                ]
              },
              {
                "type": "string",
                "pattern": "^execute-api:/"
              }
            ]
          }
        }
      ]
    },
    "awsResourcePolicyStatements": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "Sid": {
            "type": "string"
          },
          "Effect": {
            "enum": [
              "Allow",
              "Deny"
            ]
          },
          "Action": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "NotAction": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "Principal": {
            "anyOf": [
              {
                "const": "*"
              },
              {
                "type": "object",
                "properties": {
                  "AWS": {
                    "anyOf": [
                      {
                        "const": "*"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string",
                              "pattern": "^arn:"
                            },
                            {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::ImportValue": {}
                                  },
                                  "additionalProperties": false,
                                  "required": [
                                    "Fn::ImportValue"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Join": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "array"
                                        }
                                      ],
                                      "additionalItems": false
                                    }
                                  },
                                  "required": [
                                    "Fn::Join"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::GetAtt": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": {
                                        "type": "string",
                                        "minLength": 1
                                      }
                                    }
                                  },
                                  "required": [
                                    "Fn::GetAtt"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Ref": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  },
                                  "required": [
                                    "Ref"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Sub": {}
                                  },
                                  "required": [
                                    "Fn::Sub"
                                  ],
                                  "additionalProperties": false
                                }
                              ]
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "Federated": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "Service": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "CanonicalUser": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false
              }
            ]
          },
          "NotPrincipal": {
            "anyOf": [
              {
                "const": "*"
              },
              {
                "type": "object",
                "properties": {
                  "AWS": {
                    "anyOf": [
                      {
                        "const": "*"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string",
                              "pattern": "^arn:"
                            },
                            {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::ImportValue": {}
                                  },
                                  "additionalProperties": false,
                                  "required": [
                                    "Fn::ImportValue"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Join": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "array"
                                        }
                                      ],
                                      "additionalItems": false
                                    }
                                  },
                                  "required": [
                                    "Fn::Join"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::GetAtt": {
                                      "type": "array",
                                      "minItems": 2,
                                      "maxItems": 2,
                                      "items": {
                                        "type": "string",
                                        "minLength": 1
                                      }
                                    }
                                  },
                                  "required": [
                                    "Fn::GetAtt"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Ref": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  },
                                  "required": [
                                    "Ref"
                                  ],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "Fn::Sub": {}
                                  },
                                  "required": [
                                    "Fn::Sub"
                                  ],
                                  "additionalProperties": false
                                }
                              ]
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "Federated": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "Service": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "CanonicalUser": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false
              }
            ]
          },
          "Resource": {
            "anyOf": [
              {
                "const": "*"
              },
              {
                "anyOf": [
                  {
                    "type": "string",
                    "pattern": "^arn:"
                  },
                  {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "Fn::ImportValue": {}
                        },
                        "additionalProperties": false,
                        "required": [
                          "Fn::ImportValue"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::Join": {
                            "type": "array",
                            "minItems": 2,
                            "maxItems": 2,
                            "items": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "array"
                              }
                            ],
                            "additionalItems": false
                          }
                        },
                        "required": [
                          "Fn::Join"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::GetAtt": {
                            "type": "array",
                            "minItems": 2,
                            "maxItems": 2,
                            "items": {
                              "type": "string",
                              "minLength": 1
                            }
                          }
                        },
                        "required": [
                          "Fn::GetAtt"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Ref": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        "required": [
                          "Ref"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::Sub": {}
                        },
                        "required": [
                          "Fn::Sub"
                        ],
                        "additionalProperties": false
                      }
                    ]
                  }
                ]
              },
              {
                "type": "string",
                "pattern": "^execute-api:/"
              },
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "const": "*"
                    },
                    {
                      "anyOf": [
                        {
                          "type": "string",
                          "pattern": "^arn:"
                        },
                        {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "Fn::ImportValue": {}
                              },
                              "additionalProperties": false,
                              "required": [
                                "Fn::ImportValue"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Fn::Join": {
                                  "type": "array",
                                  "minItems": 2,
                                  "maxItems": 2,
                                  "items": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array"
                                    }
                                  ],
                                  "additionalItems": false
                                }
                              },
                              "required": [
                                "Fn::Join"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Fn::GetAtt": {
                                  "type": "array",
                                  "minItems": 2,
                                  "maxItems": 2,
                                  "items": {
                                    "type": "string",
                                    "minLength": 1
                                  }
                                }
                              },
                              "required": [
                                "Fn::GetAtt"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Ref": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              },
                              "required": [
                                "Ref"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Fn::Sub": {}
                              },
                              "required": [
                                "Fn::Sub"
                              ],
                              "additionalProperties": false
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "string",
                      "pattern": "^execute-api:/"
                    }
                  ]
                }
              }
            ]
          },
          "NotResource": {
            "anyOf": [
              {
                "const": "*"
              },
              {
                "anyOf": [
                  {
                    "type": "string",
                    "pattern": "^arn:"
                  },
                  {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "Fn::ImportValue": {}
                        },
                        "additionalProperties": false,
                        "required": [
                          "Fn::ImportValue"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::Join": {
                            "type": "array",
                            "minItems": 2,
                            "maxItems": 2,
                            "items": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "array"
                              }
                            ],
                            "additionalItems": false
                          }
                        },
                        "required": [
                          "Fn::Join"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::GetAtt": {
                            "type": "array",
                            "minItems": 2,
                            "maxItems": 2,
                            "items": {
                              "type": "string",
                              "minLength": 1
                            }
                          }
                        },
                        "required": [
                          "Fn::GetAtt"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Ref": {
                            "type": "string",
                            "minLength": 1
                          }
                        },
                        "required": [
                          "Ref"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "Fn::Sub": {}
                        },
                        "required": [
                          "Fn::Sub"
                        ],
                        "additionalProperties": false
                      }
                    ]
                  }
                ]
              },
              {
                "type": "string",
                "pattern": "^execute-api:/"
              },
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "const": "*"
                    },
                    {
                      "anyOf": [
                        {
                          "type": "string",
                          "pattern": "^arn:"
                        },
                        {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "Fn::ImportValue": {}
                              },
                              "additionalProperties": false,
                              "required": [
                                "Fn::ImportValue"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Fn::Join": {
                                  "type": "array",
                                  "minItems": 2,
                                  "maxItems": 2,
                                  "items": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array"
                                    }
                                  ],
                                  "additionalItems": false
                                }
                              },
                              "required": [
                                "Fn::Join"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Fn::GetAtt": {
                                  "type": "array",
                                  "minItems": 2,
                                  "maxItems": 2,
                                  "items": {
                                    "type": "string",
                                    "minLength": 1
                                  }
                                }
                              },
                              "required": [
                                "Fn::GetAtt"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Ref": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              },
                              "required": [
                                "Ref"
                              ],
                              "additionalProperties": false
                            },
                            {
                              "type": "object",
                              "properties": {
                                "Fn::Sub": {}
                              },
                              "required": [
                                "Fn::Sub"
                              ],
                              "additionalProperties": false
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "string",
                      "pattern": "^execute-api:/"
                    }
                  ]
                }
              }
            ]
          },
          "Condition": {
            "type": "object"
          }
        },
        "additionalProperties": false,
        "allOf": [
          {
            "required": [
              "Effect"
            ]
          },
          {
            "oneOf": [
              {
                "required": [
                  "Action"
                ]
              },
              {
                "required": [
                  "NotAction"
                ]
              }
            ]
          },
          {
            "oneOf": [
              {
                "required": [
                  "Resource"
                ]
              },
              {
                "required": [
                  "NotResource"
                ]
              }
            ]
          }
        ]
      }
    },
    "awsResourceTags": {
      "type": "object",
      "patternProperties": {
        "^(?!aws:)[\\w./=+:-_\\x20]{1,128}$": {
          "type": "string",
          "maxLength": 256
        }
      },
      "additionalProperties": false
    },
    "awsS3BucketName": {
      "type": "string",
      "pattern": "(?!^(\\d{1,3}\\.){3}\\d{1,3}$)(^(([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])\\.)*([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])$)",
      "minLength": 3,
      "maxLength": 63
    }
  }
}